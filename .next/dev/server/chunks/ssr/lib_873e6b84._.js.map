{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/rtfforensics_final/lib/auth-context.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useEffect, useCallback, type ReactNode } from \"react\"\n\ninterface ThanaDetails {\n  division: string\n  district: string\n  thana: string\n}\n\ninterface User {\n  username: string\n  role: string\n  loginTime: Date\n  thanaDetails?: ThanaDetails\n}\n\ninterface AuthContextType {\n  user: User | null\n  login: (username: string, password: string, thanaDetails?: ThanaDetails) => boolean\n  logout: () => void\n  isAuthenticated: boolean\n  isLoading: boolean\n  refreshSession: () => void\n  sessionExpiry: Date | null\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\n\nconst MASTER_PASSWORD = \"admin123\"\nconst USER_STORAGE_KEY = \"rtf_user\"\nconst LOGIN_LOGS_KEY = \"rtf_login_logs\"\nconst SESSION_DURATION_MS = 24 * 60 * 60 * 1000\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const [sessionExpiry, setSessionExpiry] = useState<Date | null>(null)\n\n  const checkSessionExpiry = useCallback(() => {\n    if (user && sessionExpiry && new Date() > sessionExpiry) {\n      setUser(null)\n      setSessionExpiry(null)\n      if (typeof window !== \"undefined\") {\n        localStorage.removeItem(USER_STORAGE_KEY)\n      }\n      return false\n    }\n    return true\n  }, [user, sessionExpiry])\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") {\n      setIsLoading(false)\n      return\n    }\n\n    const stored = localStorage.getItem(USER_STORAGE_KEY)\n    if (stored) {\n      try {\n        const userData = JSON.parse(stored)\n        // Restore login time as Date object\n        userData.loginTime = new Date(userData.loginTime)\n\n        const expiry = new Date(userData.loginTime.getTime() + SESSION_DURATION_MS)\n        if (new Date() > expiry) {\n          localStorage.removeItem(USER_STORAGE_KEY)\n        } else {\n          setUser(userData)\n          setSessionExpiry(expiry)\n        }\n      } catch {\n        localStorage.removeItem(USER_STORAGE_KEY)\n      }\n    }\n    setIsLoading(false)\n  }, [])\n\n  useEffect(() => {\n    if (!user) return\n\n    const interval = setInterval(() => {\n      checkSessionExpiry()\n    }, 60000) // Check every minute\n\n    return () => clearInterval(interval)\n  }, [user, checkSessionExpiry])\n\n  const login = useCallback((username: string, password: string, thanaDetails?: ThanaDetails) => {\n    // Development: Accept any thana selection with master password\n    if (password === MASTER_PASSWORD && username) {\n      const loginTime = new Date()\n      const userData: User = {\n        username: username,\n        role: \"Police Station Officer\",\n        loginTime,\n        thanaDetails: thanaDetails,\n      }\n      setUser(userData)\n      setSessionExpiry(new Date(loginTime.getTime() + SESSION_DURATION_MS))\n\n      if (typeof window !== \"undefined\") {\n        localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(userData))\n\n        const loginLog = {\n          timestamp: new Date().toISOString(),\n          thana: username,\n          division: thanaDetails?.division || \"\",\n          district: thanaDetails?.district || \"\",\n          success: true,\n        }\n        try {\n          const existingLogs = JSON.parse(localStorage.getItem(LOGIN_LOGS_KEY) || \"[]\")\n          existingLogs.push(loginLog)\n          localStorage.setItem(LOGIN_LOGS_KEY, JSON.stringify(existingLogs.slice(-100))) // Keep last 100 logs\n        } catch {\n          localStorage.setItem(LOGIN_LOGS_KEY, JSON.stringify([loginLog]))\n        }\n      }\n\n      return true\n    }\n    return false\n  }, [])\n\n  const logout = useCallback(() => {\n    setUser(null)\n    setSessionExpiry(null)\n    if (typeof window !== \"undefined\") {\n      localStorage.removeItem(USER_STORAGE_KEY)\n      localStorage.removeItem(\"rtf_sessions\")\n    }\n  }, [])\n\n  const refreshSession = useCallback(() => {\n    if (user) {\n      const newLoginTime = new Date()\n      const updatedUser = { ...user, loginTime: newLoginTime }\n      setUser(updatedUser)\n      setSessionExpiry(new Date(newLoginTime.getTime() + SESSION_DURATION_MS))\n      if (typeof window !== \"undefined\") {\n        localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(updatedUser))\n      }\n    }\n  }, [user])\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        login,\n        logout,\n        isAuthenticated: !!user,\n        isLoading,\n        refreshSession,\n        sessionExpiry,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  )\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext)\n  if (context === undefined) {\n    throw new Error(\"useAuth must be used within an AuthProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AA2BA,MAAM,4BAAc,IAAA,qVAAa,EAA8B;AAE/D,MAAM,kBAAkB;AACxB,MAAM,mBAAmB;AACzB,MAAM,iBAAiB;AACvB,MAAM,sBAAsB,KAAK,KAAK,KAAK;AAEpC,SAAS,aAAa,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,gVAAQ,EAAc;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gVAAQ,EAAC;IAC3C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,gVAAQ,EAAc;IAEhE,MAAM,qBAAqB,IAAA,mVAAW,EAAC;QACrC,IAAI,QAAQ,iBAAiB,IAAI,SAAS,eAAe;YACvD,QAAQ;YACR,iBAAiB;YACjB;;YAGA,OAAO;QACT;QACA,OAAO;IACT,GAAG;QAAC;QAAM;KAAc;IAExB,IAAA,iVAAS,EAAC;QACR,wCAAmC;YACjC,aAAa;YACb;QACF;;;QAEA,MAAM;IAmBR,GAAG,EAAE;IAEL,IAAA,iVAAS,EAAC;QACR,IAAI,CAAC,MAAM;QAEX,MAAM,WAAW,YAAY;YAC3B;QACF,GAAG,OAAO,qBAAqB;;QAE/B,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;QAAM;KAAmB;IAE7B,MAAM,QAAQ,IAAA,mVAAW,EAAC,CAAC,UAAkB,UAAkB;QAC7D,+DAA+D;QAC/D,IAAI,aAAa,mBAAmB,UAAU;YAC5C,MAAM,YAAY,IAAI;YACtB,MAAM,WAAiB;gBACrB,UAAU;gBACV,MAAM;gBACN;gBACA,cAAc;YAChB;YACA,QAAQ;YACR,iBAAiB,IAAI,KAAK,UAAU,OAAO,KAAK;YAEhD;;YAmBA,OAAO;QACT;QACA,OAAO;IACT,GAAG,EAAE;IAEL,MAAM,SAAS,IAAA,mVAAW,EAAC;QACzB,QAAQ;QACR,iBAAiB;QACjB;;IAIF,GAAG,EAAE;IAEL,MAAM,iBAAiB,IAAA,mVAAW,EAAC;QACjC,IAAI,MAAM;YACR,MAAM,eAAe,IAAI;YACzB,MAAM,cAAc;gBAAE,GAAG,IAAI;gBAAE,WAAW;YAAa;YACvD,QAAQ;YACR,iBAAiB,IAAI,KAAK,aAAa,OAAO,KAAK;YACnD;;QAGF;IACF,GAAG;QAAC;KAAK;IAET,qBACE,6WAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA;YACA,iBAAiB,CAAC,CAAC;YACnB;YACA;YACA;QACF;kBAEC;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,kVAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/rtfforensics_final/lib/data-store.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useCallback, useEffect, type ReactNode } from \"react\"\nimport type { ParsedData } from \"@/lib/file-parser\"\n\ninterface AnalysisSession {\n  id: string\n  module: string\n  fileName: string\n  uploadedAt: Date\n  data: ParsedData\n}\n\ninterface DataStoreContextType {\n  sessions: AnalysisSession[]\n  activeSession: AnalysisSession | null\n  addSession: (module: string, fileName: string, data: ParsedData) => string\n  setActiveSession: (id: string | null) => void\n  getSessionsByModule: (module: string) => AnalysisSession[]\n  removeSession: (id: string) => void\n  clearAllSessions: () => void\n  updateSession: (id: string, data: Partial<Omit<AnalysisSession, \"id\">>) => void\n  stats: {\n    totalSessions: number\n    totalRecordsProcessed: number\n    modulesUsed: string[]\n  }\n}\n\nconst DataStoreContext = createContext<DataStoreContextType | undefined>(undefined)\n\nconst STORAGE_KEY = \"rtf_analysis_sessions\"\n\nexport function DataStoreProvider({ children }: { children: ReactNode }) {\n  const [sessions, setSessions] = useState<AnalysisSession[]>([])\n  const [activeSessionId, setActiveSessionId] = useState<string | null>(null)\n  const [isInitialized, setIsInitialized] = useState(false)\n\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      try {\n        const stored = localStorage.getItem(STORAGE_KEY)\n        if (stored) {\n          const parsed = JSON.parse(stored)\n          // Restore dates as Date objects\n          const restored = parsed.map((s: AnalysisSession) => ({\n            ...s,\n            uploadedAt: new Date(s.uploadedAt),\n          }))\n          setSessions(restored)\n        }\n      } catch (error) {\n        console.error(\"Failed to restore sessions:\", error)\n        localStorage.removeItem(STORAGE_KEY)\n      }\n      setIsInitialized(true)\n    }\n  }, [])\n\n  useEffect(() => {\n    if (isInitialized && typeof window !== \"undefined\") {\n      try {\n        // Only store essential data to avoid localStorage limits\n        const toStore = sessions.map((s) => ({\n          id: s.id,\n          module: s.module,\n          fileName: s.fileName,\n          uploadedAt: s.uploadedAt.toISOString(),\n          data: {\n            headers: s.data.headers,\n            rows: s.data.rows.slice(0, 100), // Limit stored rows\n            analytics: s.data.analytics,\n            metadata: s.data.metadata,\n          },\n        }))\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(toStore))\n      } catch (error) {\n        console.error(\"Failed to persist sessions:\", error)\n      }\n    }\n  }, [sessions, isInitialized])\n\n  const addSession = useCallback((module: string, fileName: string, data: ParsedData) => {\n    const id = `session-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\n    const newSession: AnalysisSession = {\n      id,\n      module,\n      fileName,\n      uploadedAt: new Date(),\n      data,\n    }\n    setSessions((prev) => [...prev, newSession])\n    setActiveSessionId(id)\n    return id\n  }, [])\n\n  const setActiveSession = useCallback((id: string | null) => {\n    setActiveSessionId(id)\n  }, [])\n\n  const getSessionsByModule = useCallback(\n    (module: string) => {\n      return sessions.filter((s) => s.module === module)\n    },\n    [sessions],\n  )\n\n  const removeSession = useCallback(\n    (id: string) => {\n      setSessions((prev) => prev.filter((s) => s.id !== id))\n      if (activeSessionId === id) {\n        setActiveSessionId(null)\n      }\n    },\n    [activeSessionId],\n  )\n\n  const clearAllSessions = useCallback(() => {\n    setSessions([])\n    setActiveSessionId(null)\n    if (typeof window !== \"undefined\") {\n      localStorage.removeItem(STORAGE_KEY)\n    }\n  }, [])\n\n  const updateSession = useCallback((id: string, data: Partial<Omit<AnalysisSession, \"id\">>) => {\n    setSessions((prev) =>\n      prev.map((s) => {\n        if (s.id === id) {\n          return { ...s, ...data }\n        }\n        return s\n      }),\n    )\n  }, [])\n\n  const activeSession = sessions.find((s) => s.id === activeSessionId) || null\n\n  const stats = {\n    totalSessions: sessions.length,\n    totalRecordsProcessed: sessions.reduce((sum, s) => sum + s.data.rows.length, 0),\n    modulesUsed: [...new Set(sessions.map((s) => s.module))],\n  }\n\n  return (\n    <DataStoreContext.Provider\n      value={{\n        sessions,\n        activeSession,\n        addSession,\n        setActiveSession,\n        getSessionsByModule,\n        removeSession,\n        clearAllSessions,\n        updateSession,\n        stats,\n      }}\n    >\n      {children}\n    </DataStoreContext.Provider>\n  )\n}\n\nexport function useDataStore() {\n  const context = useContext(DataStoreContext)\n  if (context === undefined) {\n    throw new Error(\"useDataStore must be used within a DataStoreProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AA6BA,MAAM,iCAAmB,IAAA,qVAAa,EAAmC;AAEzE,MAAM,cAAc;AAEb,SAAS,kBAAkB,EAAE,QAAQ,EAA2B;IACrE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,gVAAQ,EAAoB,EAAE;IAC9D,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,gVAAQ,EAAgB;IACtE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,gVAAQ,EAAC;IAEnD,IAAA,iVAAS,EAAC;QACR;;IAkBF,GAAG,EAAE;IAEL,IAAA,iVAAS,EAAC;QACR;;IAoBF,GAAG;QAAC;QAAU;KAAc;IAE5B,MAAM,aAAa,IAAA,mVAAW,EAAC,CAAC,QAAgB,UAAkB;QAChE,MAAM,KAAK,CAAC,QAAQ,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;QAC7E,MAAM,aAA8B;YAClC;YACA;YACA;YACA,YAAY,IAAI;YAChB;QACF;QACA,YAAY,CAAC,OAAS;mBAAI;gBAAM;aAAW;QAC3C,mBAAmB;QACnB,OAAO;IACT,GAAG,EAAE;IAEL,MAAM,mBAAmB,IAAA,mVAAW,EAAC,CAAC;QACpC,mBAAmB;IACrB,GAAG,EAAE;IAEL,MAAM,sBAAsB,IAAA,mVAAW,EACrC,CAAC;QACC,OAAO,SAAS,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK;IAC7C,GACA;QAAC;KAAS;IAGZ,MAAM,gBAAgB,IAAA,mVAAW,EAC/B,CAAC;QACC,YAAY,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QAClD,IAAI,oBAAoB,IAAI;YAC1B,mBAAmB;QACrB;IACF,GACA;QAAC;KAAgB;IAGnB,MAAM,mBAAmB,IAAA,mVAAW,EAAC;QACnC,YAAY,EAAE;QACd,mBAAmB;QACnB;;IAGF,GAAG,EAAE;IAEL,MAAM,gBAAgB,IAAA,mVAAW,EAAC,CAAC,IAAY;QAC7C,YAAY,CAAC,OACX,KAAK,GAAG,CAAC,CAAC;gBACR,IAAI,EAAE,EAAE,KAAK,IAAI;oBACf,OAAO;wBAAE,GAAG,CAAC;wBAAE,GAAG,IAAI;oBAAC;gBACzB;gBACA,OAAO;YACT;IAEJ,GAAG,EAAE;IAEL,MAAM,gBAAgB,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,oBAAoB;IAExE,MAAM,QAAQ;QACZ,eAAe,SAAS,MAAM;QAC9B,uBAAuB,SAAS,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;QAC7E,aAAa;eAAI,IAAI,IAAI,SAAS,GAAG,CAAC,CAAC,IAAM,EAAE,MAAM;SAAG;IAC1D;IAEA,qBACE,6WAAC,iBAAiB,QAAQ;QACxB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,kVAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/rtfforensics_final/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\n// Format number with commas\nexport function formatNumber(num: number): string {\n  return num.toLocaleString()\n}\n\n// Format date to readable string\nexport function formatDate(date: Date | string): string {\n  const d = typeof date === \"string\" ? new Date(date) : date\n  if (isNaN(d.getTime())) return \"Invalid Date\"\n  return d.toLocaleDateString(\"en-US\", {\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n  })\n}\n\n// Format date and time\nexport function formatDateTime(date: Date | string): string {\n  const d = typeof date === \"string\" ? new Date(date) : date\n  if (isNaN(d.getTime())) return \"Invalid Date\"\n  return d.toLocaleString(\"en-US\", {\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  })\n}\n\n// Truncate text with ellipsis\nexport function truncate(str: string, length: number): string {\n  if (str.length <= length) return str\n  return str.slice(0, length) + \"...\"\n}\n\n// Debounce function\nexport function debounce<T extends (...args: Parameters<T>) => ReturnType<T>>(\n  func: T,\n  wait: number,\n): (...args: Parameters<T>) => void {\n  let timeout: NodeJS.Timeout | null = null\n  return (...args: Parameters<T>) => {\n    if (timeout) clearTimeout(timeout)\n    timeout = setTimeout(() => func(...args), wait)\n  }\n}\n\n// Throttle function\nexport function throttle<T extends (...args: Parameters<T>) => ReturnType<T>>(\n  func: T,\n  limit: number,\n): (...args: Parameters<T>) => void {\n  let inThrottle = false\n  return (...args: Parameters<T>) => {\n    if (!inThrottle) {\n      func(...args)\n      inThrottle = true\n      setTimeout(() => (inThrottle = false), limit)\n    }\n  }\n}\n\n// Generate unique ID\nexport function generateId(prefix = \"id\"): string {\n  return `${prefix}-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\n}\n\n// Deep clone object\nexport function deepClone<T>(obj: T): T {\n  return JSON.parse(JSON.stringify(obj))\n}\n\n// Check if object is empty\nexport function isEmpty(obj: object): boolean {\n  return Object.keys(obj).length === 0\n}\n\n// Get initials from name\nexport function getInitials(name: string): string {\n  return name\n    .split(\" \")\n    .map((n) => n[0])\n    .join(\"\")\n    .toUpperCase()\n    .slice(0, 2)\n}\n\n// Sleep/delay function\nexport function sleep(ms: number): Promise<void> {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n\n// Safe JSON parse\nexport function safeJsonParse<T>(json: string, fallback: T): T {\n  try {\n    return JSON.parse(json) as T\n  } catch {\n    return fallback\n  }\n}\n\n// Capitalize first letter\nexport function capitalize(str: string): string {\n  if (!str) return \"\"\n  return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase()\n}\n\n// Convert bytes to human readable format\nexport function bytesToSize(bytes: number): string {\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\"]\n  if (bytes === 0) return \"0 Bytes\"\n  const i = Math.floor(Math.log(bytes) / Math.log(1024))\n  return `${(bytes / Math.pow(1024, i)).toFixed(2)} ${sizes[i]}`\n}\n\n// Check if running in browser\nexport function isBrowser(): boolean {\n  return typeof window !== \"undefined\"\n}\n\n// Get relative time string\nexport function getRelativeTime(date: Date | string): string {\n  const d = typeof date === \"string\" ? new Date(date) : date\n  if (isNaN(d.getTime())) return \"Unknown\"\n\n  const now = new Date()\n  const diffMs = now.getTime() - d.getTime()\n  const diffSec = Math.floor(diffMs / 1000)\n  const diffMin = Math.floor(diffSec / 60)\n  const diffHour = Math.floor(diffMin / 60)\n  const diffDay = Math.floor(diffHour / 24)\n\n  if (diffSec < 60) return \"Just now\"\n  if (diffMin < 60) return `${diffMin} minute${diffMin !== 1 ? \"s\" : \"\"} ago`\n  if (diffHour < 24) return `${diffHour} hour${diffHour !== 1 ? \"s\" : \"\"} ago`\n  if (diffDay < 7) return `${diffDay} day${diffDay !== 1 ? \"s\" : \"\"} ago`\n  return formatDate(d)\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 386, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/rtfforensics_final/lib/constants.ts"],"sourcesContent":["// Application Constants\nexport const APP_CONFIG = {\n  name: \"RTF Forensics Suite\",\n  version: \"2.0.0\",\n  developer: \"Rifat Ahmed\",\n  releaseDate: \"2025-06-04\",\n  description: \"Professional Telecom Forensics Analysis Platform\",\n  copyright: \"2025 Rifat Ahmed. All rights reserved.\",\n  supportEmail: \"support@rtfforensics.com\",\n  documentationUrl: \"/docs\",\n} as const\n\n// Module Configuration\nexport const MODULES = {\n  home: { id: \"home\", label: \"Dashboard\", description: \"Overview & statistics\", icon: \"LayoutDashboard\" },\n  cdr: { id: \"cdr\", label: \"CDR Analyzer\", description: \"Call detail records analysis\", icon: \"Phone\" },\n  tower: { id: \"tower\", label: \"Tower Dump\", description: \"Cell tower data analysis\", icon: \"Radio\" },\n  drive: { id: \"drive\", label: \"Drive Test\", description: \"Route and coverage analysis\", icon: \"Route\" },\n  mutual: { id: \"mutual\", label: \"Mutual Comm\", description: \"Link and cluster analysis\", icon: \"Users\" },\n  geo: { id: \"geo\", label: \"GEO Intelligence\", description: \"Map visualization\", icon: \"Map\" },\n  reports: { id: \"reports\", label: \"Reports\", description: \"Generate PDF reports\", icon: \"FileText\" },\n} as const\n\n// File Upload Configuration\nexport const UPLOAD_CONFIG = {\n  maxFileSize: 50 * 1024 * 1024, // 50MB\n  acceptedFormats: [\".csv\", \".xlsx\", \".xls\", \".txt\"],\n  maxRowsPreview: 1000,\n  chunkSize: 10000,\n  mimeTypes: [\n    \"text/csv\",\n    \"application/vnd.ms-excel\",\n    \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n    \"text/plain\",\n  ],\n} as const\n\n// Column Types for Mapping\nexport const COLUMN_TYPES = {\n  PHONE_A: \"Phone A\",\n  PHONE_B: \"Phone B\",\n  DATETIME: \"Date/Time\",\n  DURATION: \"Duration\",\n  CALL_TYPE: \"Call Type\",\n  IMEI_A: \"IMEI A\",\n  IMEI_B: \"IMEI B\",\n  IMSI_A: \"IMSI A\",\n  IMSI_B: \"IMSI B\",\n  LAC: \"LAC\",\n  CELL_ID: \"Cell ID\",\n  LATITUDE: \"Latitude\",\n  LONGITUDE: \"Longitude\",\n  AZIMUTH: \"Azimuth\",\n  ADDRESS: \"Address\",\n  OPERATOR: \"Operator\",\n  NETWORK_TYPE: \"Network Type\",\n  SMS_CONTENT: \"SMS Content\",\n  DATA_VOLUME: \"Data Volume\",\n  ROAMING: \"Roaming\",\n  RECORD_ID: \"Record ID\",\n  MCC: \"MCC\",\n  MNC: \"MNC\",\n  SIGNAL_STRENGTH: \"Signal Strength\",\n  FIRST_CELL: \"First Cell\",\n  LAST_CELL: \"Last Cell\",\n  START_TIME: \"Start Time\",\n  END_TIME: \"End Time\",\n} as const\n\n// Analysis Thresholds\nexport const ANALYSIS_THRESHOLDS = {\n  coPresenceWindowMinutes: 30,\n  minCallsForCluster: 3,\n  highActivityThreshold: 50,\n  suspiciousPatternThreshold: 10,\n  maxBPartyDisplay: 100,\n  minDurationForAnalysis: 1,\n  towerProximityMeters: 500,\n  timeWindowSeconds: 1800,\n} as const\n\n// Report Templates\nexport const REPORT_TEMPLATES = {\n  summary: { id: \"summary\", label: \"Summary Report\", description: \"Overview of analysis\" },\n  detailed: { id: \"detailed\", label: \"Detailed Report\", description: \"Full analysis with charts\" },\n  timeline: { id: \"timeline\", label: \"Timeline Report\", description: \"Chronological events\" },\n  network: { id: \"network\", label: \"Network Report\", description: \"Communication patterns\" },\n  tower: { id: \"tower\", label: \"Tower Analysis\", description: \"Cell tower analysis report\" },\n  mutual: { id: \"mutual\", label: \"Mutual Analysis\", description: \"Cross-reference analysis\" },\n} as const\n\n// Theme Configuration\nexport const THEME_CONFIG = {\n  defaultTheme: \"dark\",\n  storageKey: \"rtf-theme\",\n  themes: [\"light\", \"dark\", \"system\"] as const,\n} as const\n\n// Date Formats\nexport const DATE_FORMATS = [\n  \"YYYY-MM-DD HH:mm:ss\",\n  \"DD/MM/YYYY HH:mm:ss\",\n  \"MM/DD/YYYY HH:mm:ss\",\n  \"DD-MM-YYYY HH:mm:ss\",\n  \"YYYY/MM/DD HH:mm:ss\",\n  \"DD.MM.YYYY HH:mm:ss\",\n  \"YYYY-MM-DD\",\n  \"DD/MM/YYYY\",\n  \"MM/DD/YYYY\",\n] as const\n\n// Export Formats\nexport const EXPORT_FORMATS = {\n  pdf: { id: \"pdf\", label: \"PDF Document\", extension: \".pdf\", mimeType: \"application/pdf\" },\n  csv: { id: \"csv\", label: \"CSV Spreadsheet\", extension: \".csv\", mimeType: \"text/csv\" },\n  xlsx: {\n    id: \"xlsx\",\n    label: \"Excel Workbook\",\n    extension: \".xlsx\",\n    mimeType: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n  },\n  json: { id: \"json\", label: \"JSON Data\", extension: \".json\", mimeType: \"application/json\" },\n  html: { id: \"html\", label: \"HTML Report\", extension: \".html\", mimeType: \"text/html\" },\n} as const\n\nexport const OPERATOR_COLORS: Record<string, string> = {\n  GP: \"#22d3ee\",\n  Grameenphone: \"#22d3ee\",\n  Robi: \"#f43f5e\",\n  Banglalink: \"#3b82f6\",\n  BL: \"#3b82f6\",\n  Teletalk: \"#f59e0b\",\n  Airtel: \"#ef4444\",\n  default: \"#6b7280\",\n} as const\n\nexport const VALIDATION_PATTERNS = {\n  bangladeshPhone: /^(?:\\+?880|0)?1[3-9]\\d{8}$/,\n  imei: /^\\d{14,15}$/,\n  imsi: /^\\d{15}$/,\n  lac: /^\\d{1,5}$/,\n  cellId: /^\\d{1,10}$/,\n  mcc: /^\\d{3}$/,\n  mnc: /^\\d{2,3}$/,\n} as const\n\nexport const API_ENDPOINTS = {\n  health: \"/api/health\",\n  version: \"/api/version\",\n  info: \"/api/info\",\n} as const\n"],"names":[],"mappings":"AAAA,wBAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;AACjB,MAAM,aAAa;IACxB,MAAM;IACN,SAAS;IACT,WAAW;IACX,aAAa;IACb,aAAa;IACb,WAAW;IACX,cAAc;IACd,kBAAkB;AACpB;AAGO,MAAM,UAAU;IACrB,MAAM;QAAE,IAAI;QAAQ,OAAO;QAAa,aAAa;QAAyB,MAAM;IAAkB;IACtG,KAAK;QAAE,IAAI;QAAO,OAAO;QAAgB,aAAa;QAAgC,MAAM;IAAQ;IACpG,OAAO;QAAE,IAAI;QAAS,OAAO;QAAc,aAAa;QAA4B,MAAM;IAAQ;IAClG,OAAO;QAAE,IAAI;QAAS,OAAO;QAAc,aAAa;QAA+B,MAAM;IAAQ;IACrG,QAAQ;QAAE,IAAI;QAAU,OAAO;QAAe,aAAa;QAA6B,MAAM;IAAQ;IACtG,KAAK;QAAE,IAAI;QAAO,OAAO;QAAoB,aAAa;QAAqB,MAAM;IAAM;IAC3F,SAAS;QAAE,IAAI;QAAW,OAAO;QAAW,aAAa;QAAwB,MAAM;IAAW;AACpG;AAGO,MAAM,gBAAgB;IAC3B,aAAa,KAAK,OAAO;IACzB,iBAAiB;QAAC;QAAQ;QAAS;QAAQ;KAAO;IAClD,gBAAgB;IAChB,WAAW;IACX,WAAW;QACT;QACA;QACA;QACA;KACD;AACH;AAGO,MAAM,eAAe;IAC1B,SAAS;IACT,SAAS;IACT,UAAU;IACV,UAAU;IACV,WAAW;IACX,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,KAAK;IACL,SAAS;IACT,UAAU;IACV,WAAW;IACX,SAAS;IACT,SAAS;IACT,UAAU;IACV,cAAc;IACd,aAAa;IACb,aAAa;IACb,SAAS;IACT,WAAW;IACX,KAAK;IACL,KAAK;IACL,iBAAiB;IACjB,YAAY;IACZ,WAAW;IACX,YAAY;IACZ,UAAU;AACZ;AAGO,MAAM,sBAAsB;IACjC,yBAAyB;IACzB,oBAAoB;IACpB,uBAAuB;IACvB,4BAA4B;IAC5B,kBAAkB;IAClB,wBAAwB;IACxB,sBAAsB;IACtB,mBAAmB;AACrB;AAGO,MAAM,mBAAmB;IAC9B,SAAS;QAAE,IAAI;QAAW,OAAO;QAAkB,aAAa;IAAuB;IACvF,UAAU;QAAE,IAAI;QAAY,OAAO;QAAmB,aAAa;IAA4B;IAC/F,UAAU;QAAE,IAAI;QAAY,OAAO;QAAmB,aAAa;IAAuB;IAC1F,SAAS;QAAE,IAAI;QAAW,OAAO;QAAkB,aAAa;IAAyB;IACzF,OAAO;QAAE,IAAI;QAAS,OAAO;QAAkB,aAAa;IAA6B;IACzF,QAAQ;QAAE,IAAI;QAAU,OAAO;QAAmB,aAAa;IAA2B;AAC5F;AAGO,MAAM,eAAe;IAC1B,cAAc;IACd,YAAY;IACZ,QAAQ;QAAC;QAAS;QAAQ;KAAS;AACrC;AAGO,MAAM,eAAe;IAC1B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAGM,MAAM,iBAAiB;IAC5B,KAAK;QAAE,IAAI;QAAO,OAAO;QAAgB,WAAW;QAAQ,UAAU;IAAkB;IACxF,KAAK;QAAE,IAAI;QAAO,OAAO;QAAmB,WAAW;QAAQ,UAAU;IAAW;IACpF,MAAM;QACJ,IAAI;QACJ,OAAO;QACP,WAAW;QACX,UAAU;IACZ;IACA,MAAM;QAAE,IAAI;QAAQ,OAAO;QAAa,WAAW;QAAS,UAAU;IAAmB;IACzF,MAAM;QAAE,IAAI;QAAQ,OAAO;QAAe,WAAW;QAAS,UAAU;IAAY;AACtF;AAEO,MAAM,kBAA0C;IACrD,IAAI;IACJ,cAAc;IACd,MAAM;IACN,YAAY;IACZ,IAAI;IACJ,UAAU;IACV,QAAQ;IACR,SAAS;AACX;AAEO,MAAM,sBAAsB;IACjC,iBAAiB;IACjB,MAAM;IACN,MAAM;IACN,KAAK;IACL,QAAQ;IACR,KAAK;IACL,KAAK;AACP;AAEO,MAAM,gBAAgB;IAC3B,QAAQ;IACR,SAAS;IACT,MAAM;AACR"}},
    {"offset": {"line": 636, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/rtfforensics_final/lib/bangladesh-thanas.ts"],"sourcesContent":["// Master list of all Police Stations (Thana) in Bangladesh\n// Structure: Division → District → Thana\n\nexport interface ThanaData {\n  [division: string]: {\n    [district: string]: string[]\n  }\n}\n\nexport const bangladeshThanas: ThanaData = {\n  \"Dhaka Division\": {\n    \"Dhaka Metropolitan\": [\n      \"Adabor\",\n      \"Agargaon\",\n      \"Airport\",\n      \"Badda\",\n      \"Banani\",\n      \"Bangshal\",\n      \"Cantonment\",\n      \"Chakbazar\",\n      \"Dakshin Khan\",\n      \"Darus Salam\",\n      \"Demra\",\n      \"Dhanmondi\",\n      \"Uttara East\",\n      \"Uttara West\",\n      \"Gandaria\",\n      \"Gulshan\",\n      \"Hatirjheel\",\n      \"Hazaribagh\",\n      \"Jatrabari\",\n      \"Kadamtali\",\n      \"Kafrul\",\n      \"Kalabagan\",\n      \"Kamrangirchar\",\n      \"Khilgaon\",\n      \"Khilkhet\",\n      \"Kotwali\",\n      \"Lalbagh\",\n      \"Mirpur\",\n      \"Mohammadpur\",\n      \"Motijheel\",\n      \"Mugda\",\n      \"New Market\",\n      \"Pallabi\",\n      \"Paltan\",\n      \"Ramna\",\n      \"Rampura\",\n      \"Rupnagar\",\n      \"Sabujbagh\",\n      \"Shah Ali\",\n      \"Shahbagh\",\n      \"Shyampur\",\n      \"Sher-e-Bangla Nagar\",\n      \"Sutrapur\",\n      \"Tejgaon\",\n      \"Turag\",\n      \"Vatara\",\n      \"Wari\",\n    ],\n    \"Other Dhaka Districts\": [\"Dohar\", \"Keraniganj Model\", \"Keraniganj South\", \"Nawabganj\", \"Savar\"],\n    Gazipur: [\"Gazipur Sadar\", \"Kaliakair\", \"Kaliganj\", \"Kapasia\", \"Sreepur\", \"Tongi East\", \"Tongi West\"],\n    Gopalganj: [\"Gopalganj Sadar\", \"Kashiani\", \"Kotalipara\", \"Muksudpur\", \"Tungipara\"],\n    Kishoreganj: [\n      \"Kishoreganj Sadar\",\n      \"Austagram\",\n      \"Bajitpur\",\n      \"Bhairab\",\n      \"Hossainpur\",\n      \"Itna\",\n      \"Karimganj\",\n      \"Katiadi\",\n      \"Kuliarchar\",\n      \"Mithamain\",\n      \"Nikli\",\n      \"Pakundia\",\n      \"Tarail\",\n    ],\n    Madaripur: [\"Madaripur Sadar\", \"Kalkini\", \"Rajoir\", \"Shibchar\"],\n    Manikganj: [\"Manikganj Sadar\", \"Daulatpur\", \"Ghior\", \"Harirampur\", \"Saturia\", \"Shibalaya\", \"Singair\"],\n    Munshiganj: [\"Munshiganj Sadar\", \"Gazaria\", \"Lauhajang\", \"Sirajdikhan\", \"Sreenagar\", \"Tongibari\"],\n    Narayanganj: [\"Narayanganj Sadar\", \"Araihazar\", \"Bandar\", \"Fatullah\", \"Rupganj Model\", \"Siddhirganj\", \"Sonargaon\"],\n    Narsingdi: [\"Narsingdi Sadar\", \"Belabo\", \"Manohardi\", \"Palash\", \"Raipura\", \"Shibpur\"],\n    Rajbari: [\"Rajbari Sadar\", \"Baliakandi\", \"Goalanda\", \"Pangsha\", \"Kalukhali\"],\n    Shariatpur: [\"Shariatpur Sadar\", \"Bhedarganj\", \"Damudya\", \"Gosairhat\", \"Naria\", \"Zajira\"],\n    Tangail: [\n      \"Tangail Sadar\",\n      \"Basail\",\n      \"Bhuapur\",\n      \"Delduar\",\n      \"Dhanbari\",\n      \"Ghatail\",\n      \"Gopalpur\",\n      \"Kalihati\",\n      \"Madhupur\",\n      \"Mirzapur\",\n      \"Nagarpur\",\n      \"Sakhipur\",\n    ],\n  },\n  \"Chittagong Division\": {\n    \"Chittagong Metropolitan\": [\n      \"Akbarshah\",\n      \"Bakolia\",\n      \"Bandar\",\n      \"Bayezid Bostami\",\n      \"Chandgaon\",\n      \"Chattogram Kotwali\",\n      \"Double Mooring\",\n      \"EPZ\",\n      \"Halishahar\",\n      \"Karnaphuli\",\n      \"Khulshi\",\n      \"Kotwali\",\n      \"Pahartali\",\n      \"Panchlaish\",\n      \"Patenga\",\n      \"Sadarghat\",\n    ],\n    \"Other Chittagong\": [\n      \"Anwara\",\n      \"Banshkhali\",\n      \"Boalkhali\",\n      \"Chandanaish\",\n      \"Fatikchhari\",\n      \"Hathazari\",\n      \"Lohagara\",\n      \"Mirsharai\",\n      \"Patiya\",\n      \"Rangunia\",\n      \"Raozan\",\n      \"Sandwip\",\n      \"Satkania\",\n      \"Sitakunda\",\n    ],\n    Brahmanbaria: [\n      \"Brahmanbaria Sadar\",\n      \"Akhaura\",\n      \"Ashuganj\",\n      \"Bancharampur\",\n      \"Bijoynagar\",\n      \"Kasba\",\n      \"Nabinagar\",\n      \"Nasirnagar\",\n      \"Sarail\",\n    ],\n    Chandpur: [\n      \"Chandpur Sadar\",\n      \"Faridganj\",\n      \"Haimchar\",\n      \"Hajiganj\",\n      \"Kachua\",\n      \"Matlab North\",\n      \"Matlab South\",\n      \"Shahrasti\",\n    ],\n    Comilla: [\n      \"Comilla Sadar South\",\n      \"Adarsha Sadar\",\n      \"Barura\",\n      \"Brahmanpara\",\n      \"Burichang\",\n      \"Chandina\",\n      \"Chauddagram\",\n      \"Daudkandi\",\n      \"Debidwar\",\n      \"Homna\",\n      \"Laksam\",\n      \"Manoharganj\",\n      \"Meghna\",\n      \"Muradnagar\",\n      \"Nangalkot\",\n      \"Titas\",\n    ],\n    \"Cox's Bazar\": [\"Cox's Bazar Sadar\", \"Chakaria\", \"Kutubdia\", \"Maheshkhali\", \"Pekua\", \"Ramu\", \"Teknaf\", \"Ukhiya\"],\n    Feni: [\"Feni Sadar\", \"Chhagalnaiya\", \"Daganbhuiyan\", \"Fulgazi\", \"Parshuram\", \"Sonagazi\"],\n    Lakshmipur: [\"Lakshmipur Sadar\", \"Kamalnagar\", \"Raipur\", \"Ramganj\", \"Ramgati\"],\n    Noakhali: [\n      \"Noakhali Sadar\",\n      \"Begumganj\",\n      \"Chatkhil\",\n      \"Companiganj\",\n      \"Hatiya\",\n      \"Kabirhat\",\n      \"Senbagh\",\n      \"Sonaimuri\",\n      \"Subarnachar\",\n    ],\n    Rangamati: [\n      \"Rangamati Sadar\",\n      \"Baghaichhari\",\n      \"Barkal\",\n      \"Belaichhari\",\n      \"Juraichhari\",\n      \"Kaptai\",\n      \"Kawkhali\",\n      \"Langadu\",\n      \"Naniarchar\",\n      \"Rajasthali\",\n    ],\n    Bandarban: [\"Bandarban Sadar\", \"Alikadam\", \"Lama\", \"Naikhongchhari\", \"Rowangchhari\", \"Ruma\", \"Thanchi\"],\n    Khagrachhari: [\n      \"Khagrachhari Sadar\",\n      \"Dighinala\",\n      \"Lakshmichhari\",\n      \"Mahalchhari\",\n      \"Manikchhari\",\n      \"Matiranga\",\n      \"Panchhari\",\n      \"Ramgarh\",\n    ],\n  },\n  \"Rajshahi Division\": {\n    \"Rajshahi Metropolitan\": [\"Boalia\", \"Motihar\", \"Rajpara\", \"Shah Makhdum\"],\n    Bogra: [\n      \"Bogra Sadar\",\n      \"Adamdighi\",\n      \"Dhunat\",\n      \"Dupchanchia\",\n      \"Gabtali\",\n      \"Kahalu\",\n      \"Nandigram\",\n      \"Sariakandi\",\n      \"Shahjahanpur\",\n      \"Sherpur\",\n      \"Shibganj\",\n      \"Sonatola\",\n    ],\n    Joypurhat: [\"Joypurhat Sadar\", \"Akkelpur\", \"Kalai\", \"Khetlal\", \"Panchbibi\"],\n    Naogaon: [\n      \"Naogaon Sadar\",\n      \"Atrai\",\n      \"Badalgachhi\",\n      \"Dhamoirhat\",\n      \"Manda\",\n      \"Mohadevpur\",\n      \"Niamatpur\",\n      \"Patnitala\",\n      \"Porsha\",\n      \"Raninagar\",\n      \"Sapahar\",\n    ],\n    Natore: [\"Natore Sadar\", \"Bagatipara\", \"Baraigram\", \"Gurudaspur\", \"Lalpur\", \"Singra\"],\n    Chapainawabganj: [\"Chapainawabganj Sadar\", \"Bholahat\", \"Gomastapur\", \"Nachole\", \"Shibganj\"],\n    Pabna: [\"Pabna Sadar\", \"Atgharia\", \"Bera\", \"Bhangura\", \"Chatmohar\", \"Faridpur\", \"Ishwardi\", \"Santhia\", \"Sujanagar\"],\n    Sirajganj: [\n      \"Sirajganj Sadar\",\n      \"Belkuchi\",\n      \"Chauhali\",\n      \"Kamarkhand\",\n      \"Kazipur\",\n      \"Raiganj\",\n      \"Shahjadpur\",\n      \"Tarash\",\n      \"Ullapara\",\n    ],\n  },\n  \"Khulna Division\": {\n    \"Khulna Metropolitan\": [\n      \"Khulna Kotwali\",\n      \"Sonadanga\",\n      \"Khalishpur\",\n      \"Daulatpur\",\n      \"Khan Jahan Ali\",\n      \"Aranghata\",\n      \"Labanchara\",\n      \"Harintana\",\n    ],\n    Bagerhat: [\n      \"Bagerhat Sadar\",\n      \"Chitalmari\",\n      \"Fakirhat\",\n      \"Kachua\",\n      \"Mollahat\",\n      \"Mongla\",\n      \"Morrelganj\",\n      \"Rampal\",\n      \"Sarankhola\",\n    ],\n    Jessore: [\n      \"Jessore Kotwali\",\n      \"Abhaynagar\",\n      \"Bagherpara\",\n      \"Chaugachha\",\n      \"Jhikargachha\",\n      \"Keshabpur\",\n      \"Manirampur\",\n      \"Sharsha\",\n    ],\n    Jhalokathi: [\"Jhalokathi Sadar\", \"Kathalia\", \"Nalchity\", \"Rajapur\"],\n    Jhenaidah: [\"Jhenaidah Sadar\", \"Harinakunda\", \"Kaliganj\", \"Kotchandpur\", \"Maheshpur\", \"Shailkupa\"],\n    Kushtia: [\"Kushtia Sadar\", \"Bheramara\", \"Daulatpur\", \"Kumarkhali\", \"Khoksa\", \"Mirpur\"],\n    Magura: [\"Magura Sadar\", \"Mohammadpur\", \"Shalikha\", \"Sreepur\"],\n    Meherpur: [\"Meherpur Sadar\", \"Gangni\", \"Mujibnagar\"],\n    Narail: [\"Narail Sadar\", \"Kalia\", \"Lohagara\"],\n    Satkhira: [\"Satkhira Sadar\", \"Assasuni\", \"Debhata\", \"Kalaroa\", \"Kaliganj\", \"Shyamnagar\", \"Tala\"],\n  },\n  \"Barisal Division\": {\n    \"Barisal Metropolitan\": [\"Kotwali Model\", \"Airport\", \"Bandar\", \"Kaunia\"],\n    \"Barisal District\": [\n      \"Agailjhara\",\n      \"Babuganj\",\n      \"Bakerganj\",\n      \"Banaripara\",\n      \"Gaurnadi\",\n      \"Hizla\",\n      \"Mehendiganj\",\n      \"Muladi\",\n      \"Uzirpur\",\n    ],\n    Bhola: [\"Bhola Sadar\", \"Burhanuddin\", \"Char Fasson\", \"Daulat Khan\", \"Lalmohan\", \"Manpura\", \"Tazumuddin\"],\n    Barguna: [\"Barguna Sadar\", \"Amtali\", \"Bamna\", \"Betagi\", \"Patharghata\", \"Taltali\"],\n    Patuakhali: [\"Patuakhali Sadar\", \"Bauphal\", \"Dashmina\", \"Dumki\", \"Galachipa\", \"Kalapara\", \"Mirzaganj\", \"Rangabali\"],\n    Pirojpur: [\"Pirojpur Sadar\", \"Bhandaria\", \"Kawkhali\", \"Mathbaria\", \"Nesarabad\", \"Nazirpur\", \"Zianagar\"],\n  },\n  \"Sylhet Division\": {\n    \"Sylhet Metropolitan\": [\"Kotwali Model\", \"Airport\", \"Dakshin Surma\", \"Moglabazar\", \"Shahporan\", \"Jalalabad\"],\n    \"Sylhet District\": [\n      \"Balaganj\",\n      \"Beanibazar\",\n      \"Bishwanath\",\n      \"Companiganj\",\n      \"Fenchuganj\",\n      \"Golapganj\",\n      \"Gowainghat\",\n      \"Jaintiapur\",\n      \"Kanaighat\",\n      \"Osmaninagar\",\n      \"Zakiganj\",\n    ],\n    Habiganj: [\n      \"Habiganj Sadar\",\n      \"Ajmiriganj\",\n      \"Bahubal\",\n      \"Baniachong\",\n      \"Chunarughat\",\n      \"Lakhai\",\n      \"Madhabpur\",\n      \"Nabiganj\",\n    ],\n    Moulvibazar: [\"Moulvibazar Sadar\", \"Barlekha\", \"Juri\", \"Kamalganj\", \"Kulaura\", \"Rajnagar\", \"Sreemangal\"],\n    Sunamganj: [\n      \"Sunamganj Sadar\",\n      \"Bishwambarpur\",\n      \"Chhatak\",\n      \"Derai\",\n      \"Dharmapasha\",\n      \"Dowarabazar\",\n      \"Jagannathpur\",\n      \"Jamalganj\",\n      \"Sulla\",\n      \"Tahirpur\",\n    ],\n  },\n  \"Rangpur Division\": {\n    \"Rangpur Metropolitan\": [\n      \"Kotwali\",\n      \"Tajhat\",\n      \"Haragach\",\n      \"Gangachara\",\n      \"Mithapukur\",\n      \"Pirgachha\",\n      \"Badarganj\",\n      \"Taraganj\",\n    ],\n    Dinajpur: [\n      \"Dinajpur Sadar\",\n      \"Birampur\",\n      \"Birganj\",\n      \"Biral\",\n      \"Bochaganj\",\n      \"Chirirbandar\",\n      \"Fulbari\",\n      \"Ghoraghat\",\n      \"Hakimpur\",\n      \"Kaharole\",\n      \"Khansama\",\n      \"Nawabganj\",\n      \"Parbatipur\",\n    ],\n    Gaibandha: [\"Gaibandha Sadar\", \"Fulchhari\", \"Gobindaganj\", \"Palashbari\", \"Sadullapur\", \"Saghata\", \"Sundarganj\"],\n    Kurigram: [\n      \"Kurigram Sadar\",\n      \"Bhurungamari\",\n      \"Char Rajibpur\",\n      \"Chilmari\",\n      \"Nageshwari\",\n      \"Phulbari\",\n      \"Rajarhat\",\n      \"Raumari\",\n      \"Ulipur\",\n    ],\n    Lalmonirhat: [\"Lalmonirhat Sadar\", \"Aditmari\", \"Hatibandha\", \"Kaliganj\", \"Patgram\"],\n    Nilphamari: [\"Nilphamari Sadar\", \"Dimla\", \"Domar\", \"Jaldhaka\", \"Kishoreganj\", \"Saidpur\"],\n    Panchagarh: [\"Panchagarh Sadar\", \"Atwari\", \"Boda\", \"Debiganj\", \"Tetulia\"],\n    Thakurgaon: [\"Thakurgaon Sadar\", \"Baliadangi\", \"Haripur\", \"Pirganj\", \"Ranisankail\"],\n  },\n  \"Mymensingh Division\": {\n    Mymensingh: [\n      \"Mymensingh Sadar\",\n      \"Bhaluka\",\n      \"Dhobaura\",\n      \"Fulbaria\",\n      \"Gafargaon\",\n      \"Gouripur\",\n      \"Haluaghat\",\n      \"Ishwarganj\",\n      \"Muktagachha\",\n      \"Nandail\",\n      \"Phulpur\",\n      \"Trishal\",\n    ],\n    Jamalpur: [\"Jamalpur Sadar\", \"Bakshiganj\", \"Dewanganj\", \"Islampur\", \"Madarganj\", \"Melandaha\", \"Sarishabari\"],\n    Netrokona: [\n      \"Netrokona Sadar\",\n      \"Atpara\",\n      \"Barhatta\",\n      \"Durgapur\",\n      \"Kendua\",\n      \"Khaliajuri\",\n      \"Kalmakanda\",\n      \"Madan\",\n      \"Mohanganj\",\n      \"Purbadhala\",\n    ],\n    Sherpur: [\"Sherpur Sadar\", \"Jhenaigati\", \"Nakla\", \"Nalitabari\", \"Sreebardi\"],\n  },\n}\n\n// Helper function to get flat list of all thanas with hierarchy info\nexport interface ThanaOption {\n  value: string\n  label: string\n  division: string\n  district: string\n  thana: string\n}\n\nexport function getAllThanas(): ThanaOption[] {\n  const thanas: ThanaOption[] = []\n\n  for (const [division, districts] of Object.entries(bangladeshThanas)) {\n    for (const [district, thanaList] of Object.entries(districts)) {\n      for (const thana of thanaList) {\n        thanas.push({\n          value: `${thana} PS, ${district}`,\n          label: `${thana} PS`,\n          division,\n          district,\n          thana,\n        })\n      }\n    }\n  }\n\n  return thanas.sort((a, b) => a.thana.localeCompare(b.thana))\n}\n\n// Get total count of thanas\nexport function getTotalThanaCount(): number {\n  let count = 0\n  for (const districts of Object.values(bangladeshThanas)) {\n    for (const thanaList of Object.values(districts)) {\n      count += thanaList.length\n    }\n  }\n  return count\n}\n"],"names":[],"mappings":"AAAA,2DAA2D;AAC3D,yCAAyC;;;;;;;;;AAQlC,MAAM,mBAA8B;IACzC,kBAAkB;QAChB,sBAAsB;YACpB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,yBAAyB;YAAC;YAAS;YAAoB;YAAoB;YAAa;SAAQ;QAChG,SAAS;YAAC;YAAiB;YAAa;YAAY;YAAW;YAAW;YAAc;SAAa;QACrG,WAAW;YAAC;YAAmB;YAAY;YAAc;YAAa;SAAY;QAClF,aAAa;YACX;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,WAAW;YAAC;YAAmB;YAAW;YAAU;SAAW;QAC/D,WAAW;YAAC;YAAmB;YAAa;YAAS;YAAc;YAAW;YAAa;SAAU;QACrG,YAAY;YAAC;YAAoB;YAAW;YAAa;YAAe;YAAa;SAAY;QACjG,aAAa;YAAC;YAAqB;YAAa;YAAU;YAAY;YAAiB;YAAe;SAAY;QAClH,WAAW;YAAC;YAAmB;YAAU;YAAa;YAAU;YAAW;SAAU;QACrF,SAAS;YAAC;YAAiB;YAAc;YAAY;YAAW;SAAY;QAC5E,YAAY;YAAC;YAAoB;YAAc;YAAW;YAAa;YAAS;SAAS;QACzF,SAAS;YACP;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;IACH;IACA,uBAAuB;QACrB,2BAA2B;YACzB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,oBAAoB;YAClB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,cAAc;YACZ;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,UAAU;YACR;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,SAAS;YACP;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,eAAe;YAAC;YAAqB;YAAY;YAAY;YAAe;YAAS;YAAQ;YAAU;SAAS;QAChH,MAAM;YAAC;YAAc;YAAgB;YAAgB;YAAW;YAAa;SAAW;QACxF,YAAY;YAAC;YAAoB;YAAc;YAAU;YAAW;SAAU;QAC9E,UAAU;YACR;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,WAAW;YACT;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,WAAW;YAAC;YAAmB;YAAY;YAAQ;YAAkB;YAAgB;YAAQ;SAAU;QACvG,cAAc;YACZ;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;IACH;IACA,qBAAqB;QACnB,yBAAyB;YAAC;YAAU;YAAW;YAAW;SAAe;QACzE,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,WAAW;YAAC;YAAmB;YAAY;YAAS;YAAW;SAAY;QAC3E,SAAS;YACP;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,QAAQ;YAAC;YAAgB;YAAc;YAAa;YAAc;YAAU;SAAS;QACrF,iBAAiB;YAAC;YAAyB;YAAY;YAAc;YAAW;SAAW;QAC3F,OAAO;YAAC;YAAe;YAAY;YAAQ;YAAY;YAAa;YAAY;YAAY;YAAW;SAAY;QACnH,WAAW;YACT;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;IACH;IACA,mBAAmB;QACjB,uBAAuB;YACrB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,UAAU;YACR;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,SAAS;YACP;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,YAAY;YAAC;YAAoB;Y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"}},
    {"offset": {"line": 1366, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/rtfforensics_final/lib/file-parser.ts"],"sourcesContent":["import * as XLSX from \"xlsx\"\n\nexport interface ParsedData {\n  headers: string[]\n  rows: Record<string, string>[]\n  analytics?: {\n    uniqueBParty?: number\n    totalDuration?: string\n    totalDurationSeconds?: number\n    towerHits?: number\n    uniqueMSISDN?: number\n    uniqueIMEI?: number\n    uniqueIMSI?: number\n    timeSpan?: string\n    towerCount?: number\n    firstActivity?: string\n    lastActivity?: string\n    incomingCalls?: number\n    outgoingCalls?: number\n    smsCount?: number\n    dataUsage?: string\n    topBParty?: Array<{ number: string; count: number }>\n    providers?: Record<string, number>\n    timelineData?: Array<{ date: string; calls: number; sms: number; data: number }>\n    hourlyDistribution?: Array<{ hour: number; count: number }>\n    towerLocations?: Array<{ lac: string; ci: string; lat?: number; lng?: number; count: number }>\n    callDirections?: { incoming: number; outgoing: number; unknown: number }\n    weekdayDistribution?: Array<{ day: string; count: number }>\n    topTowers?: Array<{ lac: string; ci: string; count: number; percentage: number }>\n    averageCallDuration?: number\n    longestCall?: { duration: number; bParty: string; date: string }\n    peakHour?: { hour: number; count: number }\n    uniqueLocations?: number\n  }\n  rawText?: string\n  metadata?: {\n    fileName?: string\n    fileSize?: number\n    parseDate?: string\n    rowCount?: number\n    columnCount?: number\n  }\n}\n\nexport async function parseFile(file: File): Promise<ParsedData> {\n  const extension = file.name.split(\".\").pop()?.toLowerCase()\n\n  let result: ParsedData\n\n  if (extension === \"xlsx\" || extension === \"xls\") {\n    result = await parseExcelFile(file)\n  } else {\n    result = await parseTextFile(file)\n  }\n\n  result.metadata = {\n    fileName: file.name,\n    fileSize: file.size,\n    parseDate: new Date().toISOString(),\n    rowCount: result.rows.length,\n    columnCount: result.headers.length,\n  }\n\n  return result\n}\n\nasync function parseExcelFile(file: File): Promise<ParsedData> {\n  const arrayBuffer = await file.arrayBuffer()\n  const workbook = XLSX.read(arrayBuffer, { type: \"array\" })\n  const sheetName = workbook.SheetNames[0]\n  const worksheet = workbook.Sheets[sheetName]\n  const jsonData = XLSX.utils.sheet_to_json<Record<string, string>>(worksheet, { defval: \"\" })\n\n  if (jsonData.length === 0) {\n    return { headers: [], rows: [] }\n  }\n\n  const headers = Object.keys(jsonData[0])\n  const rows = jsonData\n    .map((row) => {\n      const cleanRow: Record<string, string> = {}\n      headers.forEach((header) => {\n        cleanRow[header] = String(row[header] ?? \"\").trim()\n      })\n      return cleanRow\n    })\n    .filter((row) => Object.values(row).some((v) => v !== \"\"))\n\n  const analytics = generateAnalytics(headers, rows)\n  return { headers, rows, analytics }\n}\n\nasync function parseTextFile(file: File): Promise<ParsedData> {\n  const text = await file.text()\n  const lines = text.trim().split(\"\\n\")\n\n  if (lines.length === 0) {\n    return { headers: [], rows: [], rawText: text }\n  }\n\n  const firstLine = lines[0]\n  let delimiter = \",\"\n  if (firstLine.includes(\"\\t\")) delimiter = \"\\t\"\n  else if (firstLine.includes(\";\")) delimiter = \";\"\n  else if (firstLine.includes(\"|\")) delimiter = \"|\"\n\n  const headers = firstLine.split(delimiter).map((h) => h.trim().replace(/^[\"']|[\"']$/g, \"\"))\n\n  const rows = lines\n    .slice(1)\n    .map((line) => {\n      const values = line.split(delimiter).map((v) => v.trim().replace(/^[\"']|[\"']$/g, \"\"))\n      const row: Record<string, string> = {}\n      headers.forEach((header, index) => {\n        row[header] = values[index] || \"\"\n      })\n      return row\n    })\n    .filter((row) => Object.values(row).some((v) => v !== \"\"))\n\n  const analytics = generateAnalytics(headers, rows)\n  return { headers, rows, analytics, rawText: text }\n}\n\nfunction generateAnalytics(headers: string[], rows: Record<string, string>[]) {\n  const analytics: NonNullable<ParsedData[\"analytics\"]> = {}\n  const lowerHeaders = headers.map((h) => h.toLowerCase())\n\n  // Find MSISDN/Phone columns\n  const msisdnColumn = headers.find(\n    (h, i) =>\n      lowerHeaders[i].includes(\"msisdn\") ||\n      lowerHeaders[i].includes(\"phone\") ||\n      lowerHeaders[i].includes(\"number\") ||\n      lowerHeaders[i].includes(\"b_party\") ||\n      lowerHeaders[i].includes(\"b-party\") ||\n      lowerHeaders[i].includes(\"bparty\") ||\n      lowerHeaders[i].includes(\"called\") ||\n      lowerHeaders[i].includes(\"calling\"),\n  )\n\n  const aPartyColumn = headers.find(\n    (h, i) =>\n      lowerHeaders[i].includes(\"a_party\") ||\n      lowerHeaders[i].includes(\"a-party\") ||\n      lowerHeaders[i].includes(\"aparty\") ||\n      lowerHeaders[i].includes(\"caller\") ||\n      lowerHeaders[i].includes(\"calling\"),\n  )\n\n  if (msisdnColumn) {\n    const uniqueNumbers = new Set(rows.map((r) => r[msisdnColumn]).filter(Boolean))\n    analytics.uniqueBParty = uniqueNumbers.size\n    analytics.uniqueMSISDN = uniqueNumbers.size\n\n    // Calculate top B-party numbers\n    const bPartyCount: Record<string, number> = {}\n    rows.forEach((r) => {\n      const num = r[msisdnColumn]\n      if (num) {\n        bPartyCount[num] = (bPartyCount[num] || 0) + 1\n      }\n    })\n    analytics.topBParty = Object.entries(bPartyCount)\n      .sort((a, b) => b[1] - a[1])\n      .slice(0, 100)\n      .map(([number, count]) => ({ number, count }))\n  }\n\n  // Find IMEI column\n  const imeiColumn = headers.find((h, i) => lowerHeaders[i].includes(\"imei\"))\n  if (imeiColumn) {\n    const uniqueIMEI = new Set(rows.map((r) => r[imeiColumn]).filter(Boolean))\n    analytics.uniqueIMEI = uniqueIMEI.size\n  }\n\n  const imsiColumn = headers.find((h, i) => lowerHeaders[i].includes(\"imsi\"))\n  if (imsiColumn) {\n    const uniqueIMSI = new Set(rows.map((r) => r[imsiColumn]).filter(Boolean))\n    analytics.uniqueIMSI = uniqueIMSI.size\n  }\n\n  // Find LAC/CI columns for tower analysis\n  const lacColumn = headers.find((h, i) => lowerHeaders[i].includes(\"lac\"))\n  const ciColumn = headers.find((h, i) => lowerHeaders[i].includes(\"ci\") || lowerHeaders[i].includes(\"cell\"))\n\n  if (lacColumn || ciColumn) {\n    const towerSet = new Set(rows.map((r) => `${r[lacColumn || \"\"] || \"\"}-${r[ciColumn || \"\"] || \"\"}`))\n    analytics.towerHits = rows.length\n    analytics.towerCount = towerSet.size\n    analytics.uniqueLocations = towerSet.size\n\n    const towerCounts: Record<string, { lac: string; ci: string; count: number }> = {}\n    rows.forEach((r) => {\n      const lac = r[lacColumn || \"\"] || \"\"\n      const ci = r[ciColumn || \"\"] || \"\"\n      const key = `${lac}-${ci}`\n      if (!towerCounts[key]) {\n        towerCounts[key] = { lac, ci, count: 0 }\n      }\n      towerCounts[key].count++\n    })\n\n    // Find lat/lng columns for tower locations\n    const latColumn = headers.find((h, i) => lowerHeaders[i].includes(\"lat\") || lowerHeaders[i].includes(\"latitude\"))\n    const lngColumn = headers.find(\n      (h, i) =>\n        lowerHeaders[i].includes(\"lon\") || lowerHeaders[i].includes(\"lng\") || lowerHeaders[i].includes(\"longitude\"),\n    )\n\n    analytics.towerLocations = Object.values(towerCounts)\n      .map((t) => {\n        const row = rows.find((r) => (r[lacColumn || \"\"] || \"\") === t.lac && (r[ciColumn || \"\"] || \"\") === t.ci)\n        const lat = latColumn && row ? Number.parseFloat(row[latColumn]) || undefined : undefined\n        const lng = lngColumn && row ? Number.parseFloat(row[lngColumn]) || undefined : undefined\n        return isValidCoordinate(lat, lng) ? { ...t, lat, lng } : { ...t }\n      })\n      .sort((a, b) => b.count - a.count)\n      .slice(0, 100)\n\n    const totalHits = rows.length\n    analytics.topTowers = Object.values(towerCounts)\n      .sort((a, b) => b.count - a.count)\n      .slice(0, 20)\n      .map((t) => ({\n        ...t,\n        percentage: Math.round((t.count / totalHits) * 100 * 10) / 10,\n      }))\n  }\n\n  // Find time/date column\n  const timeColumn = headers.find(\n    (h, i) =>\n      lowerHeaders[i].includes(\"time\") ||\n      lowerHeaders[i].includes(\"date\") ||\n      lowerHeaders[i].includes(\"timestamp\") ||\n      lowerHeaders[i].includes(\"start\"),\n  )\n\n  if (timeColumn && rows.length > 0) {\n    const sortedRows = [...rows].sort((a, b) => {\n      const dateA = parseAnyDate(a[timeColumn] || \"\")\n      const dateB = parseAnyDate(b[timeColumn] || \"\")\n      return (dateA?.getTime() || 0) - (dateB?.getTime() || 0)\n    })\n    analytics.firstActivity = formatDateTime(sortedRows[0][timeColumn])\n    analytics.lastActivity = formatDateTime(sortedRows[sortedRows.length - 1][timeColumn])\n    analytics.timeSpan = `${analytics.firstActivity} - ${analytics.lastActivity}`\n\n    const dateGroups: Record<string, { calls: number; sms: number; data: number }> = {}\n    const hourGroups: Record<number, number> = {}\n    const weekdayGroups: Record<number, number> = {}\n    const weekdays = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]\n\n    // Find call type column\n    const typeCol = headers.find(\n      (h, i) =>\n        lowerHeaders[i].includes(\"type\") ||\n        lowerHeaders[i].includes(\"direction\") ||\n        lowerHeaders[i].includes(\"call_type\") ||\n        lowerHeaders[i].includes(\"service\"),\n    )\n\n    rows.forEach((r) => {\n      const dateStr = r[timeColumn]\n      if (dateStr) {\n        const date = parseAnyDate(dateStr)\n        if (date) {\n          const dateKey = date.toISOString().split(\"T\")[0]\n          const hour = date.getHours()\n          const weekday = date.getDay()\n\n          if (!dateGroups[dateKey]) {\n            dateGroups[dateKey] = { calls: 0, sms: 0, data: 0 }\n          }\n\n          const type = typeCol ? r[typeCol]?.toLowerCase() || \"\" : \"\"\n          if (type.includes(\"sms\") || type.includes(\"message\")) {\n            dateGroups[dateKey].sms++\n          } else if (type.includes(\"data\") || type.includes(\"gprs\")) {\n            dateGroups[dateKey].data++\n          } else {\n            dateGroups[dateKey].calls++\n          }\n\n          hourGroups[hour] = (hourGroups[hour] || 0) + 1\n          weekdayGroups[weekday] = (weekdayGroups[weekday] || 0) + 1\n        }\n      }\n    })\n\n    analytics.timelineData = Object.entries(dateGroups)\n      .sort((a, b) => a[0].localeCompare(b[0]))\n      .map(([date, counts]) => ({ date, ...counts }))\n\n    analytics.hourlyDistribution = Array.from({ length: 24 }, (_, hour) => ({\n      hour,\n      count: hourGroups[hour] || 0,\n    }))\n\n    analytics.weekdayDistribution = weekdays.map((day, index) => ({\n      day,\n      count: weekdayGroups[index] || 0,\n    }))\n\n    const peakHourEntry = Object.entries(hourGroups).sort((a, b) => b[1] - a[1])[0]\n    if (peakHourEntry) {\n      analytics.peakHour = { hour: Number.parseInt(peakHourEntry[0]), count: peakHourEntry[1] }\n    }\n  }\n\n  // Find call type column for incoming/outgoing analysis\n  const typeColumn = headers.find(\n    (h, i) =>\n      lowerHeaders[i].includes(\"type\") ||\n      lowerHeaders[i].includes(\"direction\") ||\n      lowerHeaders[i].includes(\"call_type\"),\n  )\n\n  if (typeColumn) {\n    let incoming = 0\n    let outgoing = 0\n    let sms = 0\n    let unknown = 0\n\n    rows.forEach((r) => {\n      const type = r[typeColumn]?.toLowerCase() || \"\"\n      if (type.includes(\"in\") || type.includes(\"mt\") || type.includes(\"received\") || type.includes(\"terminating\")) {\n        incoming++\n      } else if (\n        type.includes(\"out\") ||\n        type.includes(\"mo\") ||\n        type.includes(\"dialed\") ||\n        type.includes(\"originating\")\n      ) {\n        outgoing++\n      } else {\n        unknown++\n      }\n      if (type.includes(\"sms\") || type.includes(\"message\")) {\n        sms++\n      }\n    })\n\n    analytics.incomingCalls = incoming\n    analytics.outgoingCalls = outgoing\n    analytics.smsCount = sms\n    analytics.callDirections = { incoming, outgoing, unknown }\n  }\n\n  // Find duration column\n  const durationColumn = headers.find(\n    (h, i) =>\n      lowerHeaders[i].includes(\"duration\") || lowerHeaders[i].includes(\"length\") || lowerHeaders[i].includes(\"seconds\"),\n  )\n\n  if (durationColumn) {\n    let totalSeconds = 0\n    let maxDuration = 0\n    let longestCallRow: Record<string, string> | null = null\n\n    rows.forEach((row) => {\n      const val = Number.parseInt(row[durationColumn]) || 0\n      totalSeconds += val\n      if (val > maxDuration) {\n        maxDuration = val\n        longestCallRow = row\n      }\n    })\n\n    analytics.totalDuration = formatDuration(totalSeconds)\n    analytics.totalDurationSeconds = totalSeconds\n    analytics.averageCallDuration = rows.length > 0 ? Math.round(totalSeconds / rows.length) : 0\n\n    if (longestCallRow && maxDuration > 0) {\n      analytics.longestCall = {\n        duration: maxDuration,\n        bParty: msisdnColumn ? longestCallRow[msisdnColumn] || \"\" : \"\",\n        date: timeColumn ? longestCallRow[timeColumn] || \"\" : \"\",\n      }\n    }\n  } else {\n    analytics.totalDuration = \"N/A\"\n  }\n\n  // Find provider/operator column\n  const providerColumn = headers.find(\n    (h, i) =>\n      lowerHeaders[i].includes(\"provider\") ||\n      lowerHeaders[i].includes(\"operator\") ||\n      lowerHeaders[i].includes(\"network\"),\n  )\n\n  if (providerColumn) {\n    const providers: Record<string, number> = {}\n    rows.forEach((r) => {\n      const provider = r[providerColumn]\n      if (provider) {\n        providers[provider] = (providers[provider] || 0) + 1\n      }\n    })\n    analytics.providers = providers\n  }\n\n  return analytics\n}\n\nexport function formatDateTime(dateStr: string): string {\n  if (!dateStr) return \"\"\n  try {\n    const date = new Date(dateStr)\n    if (isNaN(date.getTime())) return dateStr\n\n    const year = date.getFullYear()\n    const month = String(date.getMonth() + 1).padStart(2, \"0\")\n    const day = String(date.getDate()).padStart(2, \"0\")\n    let hours = date.getHours()\n    const minutes = String(date.getMinutes()).padStart(2, \"0\")\n    const seconds = String(date.getSeconds()).padStart(2, \"0\")\n    const ampm = hours >= 12 ? \"PM\" : \"AM\"\n    hours = hours % 12 || 12\n\n    return `${year}-${month}-${day} ${String(hours).padStart(2, \"0\")}:${minutes}:${seconds} ${ampm}`\n  } catch {\n    return dateStr\n  }\n}\n\nexport function normalizeIMEI(imei: string): string {\n  const cleaned = imei.replace(/\\D/g, \"\")\n  if (cleaned.length === 14 || cleaned.length === 15) {\n    return cleaned\n  }\n  return imei\n}\n\nexport function normalizeMSISDN(msisdn: string): string {\n  const cleaned = msisdn.replace(/\\D/g, \"\")\n  // Handle Bangladesh numbers\n  if (cleaned.startsWith(\"880\")) {\n    return cleaned\n  } else if (cleaned.startsWith(\"0\")) {\n    return \"880\" + cleaned.substring(1)\n  }\n  return cleaned\n}\n\nexport function parseAnyDate(dateStr: string): Date | null {\n  if (!dateStr) return null\n\n  // Trim whitespace\n  const trimmed = dateStr.trim()\n\n  // Try standard ISO parsing first\n  const standard = new Date(trimmed)\n  if (!isNaN(standard.getTime()) && standard.getFullYear() > 1970) return standard\n\n  // DD/MM/YYYY HH:mm:ss format\n  const ddmmyyyyTime = trimmed.match(/^(\\d{1,2})[/-](\\d{1,2})[/-](\\d{4})\\s+(\\d{1,2}):(\\d{2}):?(\\d{2})?/)\n  if (ddmmyyyyTime) {\n    const [, day, month, year, hours, minutes, seconds] = ddmmyyyyTime\n    return new Date(\n      Number.parseInt(year),\n      Number.parseInt(month) - 1,\n      Number.parseInt(day),\n      Number.parseInt(hours),\n      Number.parseInt(minutes),\n      Number.parseInt(seconds || \"0\"),\n    )\n  }\n\n  // DD/MM/YYYY format\n  const ddmmyyyy = trimmed.match(/^(\\d{1,2})[/-](\\d{1,2})[/-](\\d{4})/)\n  if (ddmmyyyy) {\n    const [, day, month, year] = ddmmyyyy\n    return new Date(Number.parseInt(year), Number.parseInt(month) - 1, Number.parseInt(day))\n  }\n\n  // YYYY-MM-DD format\n  const yyyymmdd = trimmed.match(/^(\\d{4})[/-](\\d{1,2})[/-](\\d{1,2})/)\n  if (yyyymmdd) {\n    const [, year, month, day] = yyyymmdd\n    return new Date(Number.parseInt(year), Number.parseInt(month) - 1, Number.parseInt(day))\n  }\n\n  // DD.MM.YYYY format (European)\n  const dotFormat = trimmed.match(/^(\\d{1,2})\\.(\\d{1,2})\\.(\\d{4})/)\n  if (dotFormat) {\n    const [, day, month, year] = dotFormat\n    return new Date(Number.parseInt(year), Number.parseInt(month) - 1, Number.parseInt(day))\n  }\n\n  // DD/MM/YY format\n  const ddmmyy = trimmed.match(/^(\\d{1,2})[/-](\\d{1,2})[/-](\\d{2})(?:\\s|$)/)\n  if (ddmmyy) {\n    const [, day, month, year] = ddmmyy\n    const fullYear = Number.parseInt(year) > 50 ? 1900 + Number.parseInt(year) : 2000 + Number.parseInt(year)\n    return new Date(fullYear, Number.parseInt(month) - 1, Number.parseInt(day))\n  }\n\n  // MM/DD/YYYY format (US)\n  const mmddyyyy = trimmed.match(/^(\\d{1,2})[/-](\\d{1,2})[/-](\\d{4})/)\n  if (mmddyyyy) {\n    const [, month, day, year] = mmddyyyy\n    // Only use this if the first number is 12 or less (more likely to be month)\n    if (Number.parseInt(month) <= 12) {\n      return new Date(Number.parseInt(year), Number.parseInt(month) - 1, Number.parseInt(day))\n    }\n  }\n\n  return null\n}\n\nexport function isValidCoordinate(lat?: number, lng?: number): boolean {\n  if (lat === undefined || lng === undefined) return false\n  return lat >= -90 && lat <= 90 && lng >= -180 && lng <= 180 && !(lat === 0 && lng === 0)\n}\n\n// IMSI validation\nexport function validateIMSI(imsi: string): boolean {\n  const cleaned = imsi.replace(/\\D/g, \"\")\n  return cleaned.length === 15\n}\n\nexport function validateIMEI(imei: string): boolean {\n  const cleaned = imei.replace(/\\D/g, \"\")\n  return cleaned.length === 14 || cleaned.length === 15\n}\n\n// Phone number formatting\nexport function formatPhoneNumber(phone: string, countryCode = \"880\"): string {\n  const cleaned = phone.replace(/\\D/g, \"\")\n\n  if (cleaned.startsWith(countryCode)) {\n    return `+${cleaned}`\n  }\n\n  if (cleaned.startsWith(\"0\")) {\n    return `+${countryCode}${cleaned.substring(1)}`\n  }\n\n  return `+${countryCode}${cleaned}`\n}\n\n// Duration formatting helper\nexport function formatDuration(seconds: number): string {\n  if (seconds < 0) return \"0s\"\n\n  const hours = Math.floor(seconds / 3600)\n  const minutes = Math.floor((seconds % 3600) / 60)\n  const secs = seconds % 60\n\n  if (hours > 0) {\n    return `${hours}h ${minutes}m ${secs}s`\n  }\n  if (minutes > 0) {\n    return `${minutes}m ${secs}s`\n  }\n  return `${secs}s`\n}\n\n// File size formatting\nexport function formatFileSize(bytes: number): string {\n  if (bytes === 0) return \"0 Bytes\"\n\n  const k = 1024\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"]\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n\n  return `${Number.parseFloat((bytes / Math.pow(k, i)).toFixed(2))} ${sizes[i]}`\n}\n\nexport function transformRowsToCSV(headers: string[], rows: Record<string, string>[]): string {\n  const escapeCSV = (val: string): string => {\n    if (val.includes(\",\") || val.includes('\"') || val.includes(\"\\n\")) {\n      return `\"${val.replace(/\"/g, '\"\"')}\"`\n    }\n    return val\n  }\n\n  const headerLine = headers.map(escapeCSV).join(\",\")\n  const dataLines = rows.map((row) => headers.map((h) => escapeCSV(row[h] || \"\")).join(\",\"))\n\n  return [headerLine, ...dataLines].join(\"\\n\")\n}\n\nexport function processBatch<T, R>(items: T[], batchSize: number, processor: (batch: T[]) => R[]): R[] {\n  const results: R[] = []\n  for (let i = 0; i < items.length; i += batchSize) {\n    const batch = items.slice(i, i + batchSize)\n    results.push(...processor(batch))\n  }\n  return results\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1857, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/rtfforensics_final/lib/column-mapping.ts"],"sourcesContent":["// RTF Forensics Suite - Intelligent Column Mapping Engine\n// Comprehensive auto-mapping with synonym matching, pattern recognition, and confidence scoring\n\nexport interface ColumnMapping {\n  sourceColumn: string\n  targetColumn: string\n  confidence: number\n  matchType: \"exact\" | \"synonym\" | \"pattern\" | \"fuzzy\" | \"manual\" | \"none\"\n  sampleData?: string[]\n  dataType?: \"text\" | \"number\" | \"date\" | \"time\" | \"phone\" | \"imei\" | \"imsi\" | \"coordinates\"\n}\n\nexport interface MappingTemplate {\n  id: string\n  name: string\n  description: string\n  sourceSystem: string\n  mappings: ColumnMapping[]\n  createdAt: string\n  updatedAt: string\n  usageCount: number\n}\n\nexport interface ValidationResult {\n  isValid: boolean\n  errors: ValidationError[]\n  warnings: ValidationWarning[]\n}\n\nexport interface ValidationError {\n  column: string\n  row?: number\n  message: string\n  severity: \"error\" | \"warning\"\n}\n\nexport interface ValidationWarning {\n  column: string\n  message: string\n  affectedRows: number\n}\n\nexport const TARGET_COLUMNS = {\n  cdr: [\n    {\n      name: \"Operator\",\n      required: false,\n      description: \"Telecom operator/provider name\",\n      aliases: [\n        \"Provider\",\n        \"ProviderName\",\n        \"Carrier\",\n        \"TelecomCompany\",\n        \"Network\",\n        \"ServiceProvider\",\n        \"Telco\",\n        \"Company\",\n      ],\n    },\n    {\n      name: \"Party A\",\n      required: true,\n      description: \"Calling/source number\",\n      aliases: [\n        \"Aparty\",\n        \"A_Party\",\n        \"A-Party\",\n        \"Caller\",\n        \"Source\",\n        \"Originator\",\n        \"CallingNumber\",\n        \"FromNumber\",\n        \"MSISDN_A\",\n        \"Calling\",\n        \"From\",\n        \"SourceNumber\",\n        \"OriginatingNumber\",\n        \"CallerID\",\n        \"CLI\",\n      ],\n    },\n    {\n      name: \"Party B\",\n      required: true,\n      description: \"Called/destination number\",\n      aliases: [\n        \"Bparty\",\n        \"B_Party\",\n        \"B-Party\",\n        \"Called\",\n        \"Destination\",\n        \"Recipient\",\n        \"CalledNumber\",\n        \"ToNumber\",\n        \"MSISDN_B\",\n        \"To\",\n        \"Dialed\",\n        \"DestNumber\",\n        \"TerminatingNumber\",\n        \"DialedNumber\",\n      ],\n    },\n    {\n      name: \"Start\",\n      required: true,\n      description: \"Call start date/time\",\n      aliases: [\n        \"StartTime\",\n        \"Start_Time\",\n        \"DateTime\",\n        \"CallStart\",\n        \"StartDateTime\",\n        \"Timestamp\",\n        \"Date\",\n        \"Time\",\n        \"CallDate\",\n        \"CallDateTime\",\n      ],\n    },\n    {\n      name: \"End\",\n      required: false,\n      description: \"Call end date/time\",\n      aliases: [\"EndTime\", \"End_Time\", \"CallEnd\", \"EndDateTime\", \"FinishTime\", \"StopTime\"],\n    },\n    {\n      name: \"Call Duration\",\n      required: false,\n      description: \"Duration of call in seconds\",\n      aliases: [\n        \"Duration\",\n        \"CallTime\",\n        \"TalkTime\",\n        \"Seconds\",\n        \"CallLength\",\n        \"DurationSec\",\n        \"TotalDuration\",\n        \"Length\",\n        \"Sec\",\n        \"DurationSeconds\",\n      ],\n    },\n    {\n      name: \"Usage Type\",\n      required: false,\n      description: \"Type of service (Voice/SMS/Data)\",\n      aliases: [\n        \"ServiceType\",\n        \"CallType\",\n        \"UsageCategory\",\n        \"Type\",\n        \"Direction\",\n        \"Service\",\n        \"ActivityType\",\n        \"Category\",\n        \"EventType\",\n      ],\n    },\n    {\n      name: \"Call Direction\",\n      required: false,\n      description: \"Incoming/Outgoing direction\",\n      aliases: [\"Direction\", \"CallDirection\", \"InOut\", \"IO\", \"MOC_MTC\", \"Orientation\"],\n    },\n    {\n      name: \"IMEI\",\n      required: false,\n      description: \"Device identifier (15 digits)\",\n      aliases: [\n        \"DeviceID\",\n        \"Device_ID\",\n        \"HandsetIMEI\",\n        \"EquipmentID\",\n        \"TAC\",\n        \"Device\",\n        \"Handset\",\n        \"IMEI_A\",\n        \"EquipmentIdentity\",\n      ],\n    },\n    {\n      name: \"IMEI B\",\n      required: false,\n      description: \"B-Party device identifier\",\n      aliases: [\"IMEI_B\", \"DeviceID_B\", \"HandsetIMEI_B\", \"EquipmentID_B\"],\n    },\n    {\n      name: \"IMSI\",\n      required: false,\n      description: \"Subscriber identifier (15 digits)\",\n      aliases: [\"SubscriberID\", \"Subscriber_ID\", \"SIM_ID\", \"SIMID\", \"SubscriberIdentity\", \"SIM\", \"IMSI_A\"],\n    },\n    {\n      name: \"IMSI B\",\n      required: false,\n      description: \"B-Party subscriber identifier\",\n      aliases: [\"IMSI_B\", \"SubscriberID_B\", \"SIM_ID_B\"],\n    },\n    {\n      name: \"LAC\",\n      required: false,\n      description: \"Location Area Code\",\n      aliases: [\"LAC_ID\", \"LAC-ID\", \"LocationAreaCode\", \"AreaCode\", \"LA\", \"Location_Area\", \"LAC_A\"],\n    },\n    {\n      name: \"LAC B\",\n      required: false,\n      description: \"B-Party Location Area Code\",\n      aliases: [\"LAC_B\", \"LAC_ID_B\", \"LocationAreaCode_B\"],\n    },\n    {\n      name: \"Cell ID\",\n      required: false,\n      description: \"Cell tower identifier\",\n      aliases: [\"CI\", \"CellIdentifier\", \"Cell_ID\", \"CID\", \"CGI\", \"CellSite\", \"TowerID\", \"Cell\", \"CellNo\", \"CI_A\"],\n    },\n    {\n      name: \"Cell ID B\",\n      required: false,\n      description: \"B-Party Cell tower identifier\",\n      aliases: [\"CI_B\", \"CellIdentifier_B\", \"Cell_ID_B\", \"CID_B\"],\n    },\n    {\n      name: \"Bts Address\",\n      required: false,\n      description: \"Tower location/address\",\n      aliases: [\n        \"Address\",\n        \"Location\",\n        \"SiteAddress\",\n        \"TowerAddress\",\n        \"CellAddress\",\n        \"SiteName\",\n        \"BTSLocation\",\n        \"Site\",\n        \"Tower\",\n        \"CellLocation\",\n      ],\n    },\n    {\n      name: \"Latitude\",\n      required: false,\n      description: \"GPS latitude coordinate\",\n      aliases: [\"Lat\", \"GPS_Lat\", \"GeoLat\", \"Y_Coord\", \"Y\", \"Lat_A\"],\n    },\n    {\n      name: \"Longitude\",\n      required: false,\n      description: \"GPS longitude coordinate\",\n      aliases: [\"Long\", \"Lng\", \"GPS_Long\", \"GeoLong\", \"X_Coord\", \"X\", \"Lon\", \"Long_A\"],\n    },\n    {\n      name: \"Latitude B\",\n      required: false,\n      description: \"B-Party GPS latitude\",\n      aliases: [\"Lat_B\", \"GPS_Lat_B\", \"GeoLat_B\"],\n    },\n    {\n      name: \"Longitude B\",\n      required: false,\n      description: \"B-Party GPS longitude\",\n      aliases: [\"Long_B\", \"Lng_B\", \"GPS_Long_B\", \"GeoLong_B\"],\n    },\n    {\n      name: \"Azimuth\",\n      required: false,\n      description: \"Cell tower azimuth/direction\",\n      aliases: [\"Bearing\", \"Direction\", \"Angle\", \"CellAzimuth\", \"TowerAzimuth\"],\n    },\n    {\n      name: \"First Cell\",\n      required: false,\n      description: \"First cell during call\",\n      aliases: [\"FirstCI\", \"StartCell\", \"OriginatingCell\", \"InitialCell\"],\n    },\n    {\n      name: \"Last Cell\",\n      required: false,\n      description: \"Last cell during call\",\n      aliases: [\"LastCI\", \"EndCell\", \"TerminatingCell\", \"FinalCell\"],\n    },\n    {\n      name: \"Roaming\",\n      required: false,\n      description: \"Roaming indicator\",\n      aliases: [\"IsRoaming\", \"RoamingStatus\", \"Roamer\", \"RoamingFlag\"],\n    },\n    {\n      name: \"Network Type\",\n      required: false,\n      description: \"Network technology (2G/3G/4G/5G)\",\n      aliases: [\"Technology\", \"RAT\", \"RadioAccessType\", \"NetworkTech\", \"2G3G4G\"],\n    },\n    {\n      name: \"SMS Content\",\n      required: false,\n      description: \"SMS message content\",\n      aliases: [\"Message\", \"SMSText\", \"MessageContent\", \"Text\", \"Content\"],\n    },\n    {\n      name: \"Data Volume\",\n      required: false,\n      description: \"Data usage in bytes/KB/MB\",\n      aliases: [\"DataUsage\", \"Volume\", \"Bytes\", \"DataBytes\", \"DownloadVolume\", \"UploadVolume\", \"TotalVolume\"],\n    },\n    {\n      name: \"Record ID\",\n      required: false,\n      description: \"Unique record identifier\",\n      aliases: [\"ID\", \"RecordNo\", \"SequenceNo\", \"SerialNo\", \"TransactionID\", \"CDR_ID\"],\n    },\n  ],\n  tower: [\n    {\n      name: \"MSISDN\",\n      required: true,\n      description: \"Mobile number\",\n      aliases: [\"PhoneNumber\", \"Phone\", \"Number\", \"Mobile\", \"MobileNumber\", \"Subscriber\", \"MSISDN_No\", \"PartyA\"],\n    },\n    {\n      name: \"IMEI\",\n      required: false,\n      description: \"Device identifier (15 digits)\",\n      aliases: [\"DeviceID\", \"Device_ID\", \"HandsetIMEI\", \"EquipmentID\", \"TAC\", \"Device\"],\n    },\n    {\n      name: \"IMSI\",\n      required: false,\n      description: \"Subscriber identifier (15 digits)\",\n      aliases: [\"SubscriberID\", \"Subscriber_ID\", \"SIM_ID\", \"SIMID\", \"SIM\"],\n    },\n    {\n      name: \"DateTime\",\n      required: true,\n      description: \"Activity timestamp\",\n      aliases: [\"Timestamp\", \"Date\", \"Time\", \"Start\", \"ActivityTime\", \"EventTime\", \"RecordTime\"],\n    },\n    {\n      name: \"LAC\",\n      required: true,\n      description: \"Location Area Code\",\n      aliases: [\"LAC_ID\", \"LAC-ID\", \"LocationAreaCode\", \"AreaCode\", \"LA\"],\n    },\n    {\n      name: \"Cell ID\",\n      required: true,\n      description: \"Cell identifier\",\n      aliases: [\"CI\", \"CellIdentifier\", \"Cell_ID\", \"CID\", \"CGI\", \"TowerID\"],\n    },\n    {\n      name: \"Bts Address\",\n      required: false,\n      description: \"Tower location/address\",\n      aliases: [\"Address\", \"Location\", \"SiteAddress\", \"TowerAddress\", \"SiteName\"],\n    },\n    {\n      name: \"Latitude\",\n      required: false,\n      description: \"GPS latitude coordinate\",\n      aliases: [\"Lat\", \"GPS_Lat\", \"GeoLat\", \"Y_Coord\"],\n    },\n    {\n      name: \"Longitude\",\n      required: false,\n      description: \"GPS longitude coordinate\",\n      aliases: [\"Long\", \"Lng\", \"GPS_Long\", \"GeoLong\", \"X_Coord\", \"Lon\"],\n    },\n    {\n      name: \"Azimuth\",\n      required: false,\n      description: \"Cell tower azimuth/direction\",\n      aliases: [\"Bearing\", \"Direction\", \"Angle\", \"CellAzimuth\"],\n    },\n    {\n      name: \"Event Type\",\n      required: false,\n      description: \"Type of event (Call/SMS/Data)\",\n      aliases: [\"Type\", \"ActivityType\", \"UsageType\", \"ServiceType\"],\n    },\n    {\n      name: \"Duration\",\n      required: false,\n      description: \"Event duration in seconds\",\n      aliases: [\"Seconds\", \"Length\", \"TalkTime\", \"CallDuration\"],\n    },\n    {\n      name: \"Operator\",\n      required: false,\n      description: \"Network operator\",\n      aliases: [\"Provider\", \"Network\", \"Carrier\", \"Telco\"],\n    },\n  ],\n}\n\nconst SYNONYM_MAP: Record<string, string[]> = {\n  operator: [\n    \"provider\",\n    \"providername\",\n    \"carrier\",\n    \"telecomcompany\",\n    \"network\",\n    \"serviceprovider\",\n    \"telco\",\n    \"company\",\n    \"networkoperator\",\n  ],\n  \"party a\": [\n    \"aparty\",\n    \"a_party\",\n    \"a-party\",\n    \"caller\",\n    \"source\",\n    \"originator\",\n    \"callingnumber\",\n    \"fromnumber\",\n    \"msisdn_a\",\n    \"calling\",\n    \"from\",\n    \"sourcenumber\",\n    \"originatingnumber\",\n    \"callerid\",\n    \"cli\",\n    \"anumber\",\n  ],\n  \"party b\": [\n    \"bparty\",\n    \"b_party\",\n    \"b-party\",\n    \"called\",\n    \"destination\",\n    \"recipient\",\n    \"callednumber\",\n    \"tonumber\",\n    \"msisdn_b\",\n    \"to\",\n    \"dialed\",\n    \"destnumber\",\n    \"terminatingnumber\",\n    \"dialednumber\",\n    \"bnumber\",\n  ],\n  start: [\n    \"starttime\",\n    \"start_time\",\n    \"datetime\",\n    \"callstart\",\n    \"startdatetime\",\n    \"timestamp\",\n    \"date\",\n    \"time\",\n    \"calldate\",\n    \"calltime\",\n    \"eventtime\",\n    \"recordtime\",\n    \"activitytime\",\n  ],\n  end: [\"endtime\", \"end_time\", \"callend\", \"enddatetime\", \"finishtime\", \"stoptime\"],\n  \"call duration\": [\n    \"duration\",\n    \"calltime\",\n    \"talktime\",\n    \"seconds\",\n    \"calllength\",\n    \"durationsec\",\n    \"totalduration\",\n    \"length\",\n    \"sec\",\n    \"durationseconds\",\n    \"billedseconds\",\n  ],\n  \"call direction\": [\"direction\", \"calldirection\", \"inout\", \"io\", \"moc_mtc\", \"orientation\", \"callorientation\"],\n  \"usage type\": [\n    \"servicetype\",\n    \"calltype\",\n    \"usagecategory\",\n    \"type\",\n    \"direction\",\n    \"service\",\n    \"activitytype\",\n    \"category\",\n    \"eventtype\",\n  ],\n  imei: [\n    \"deviceid\",\n    \"device_id\",\n    \"handsetimei\",\n    \"equipmentid\",\n    \"tac\",\n    \"device\",\n    \"handset\",\n    \"imei_a\",\n    \"equipmentidentity\",\n  ],\n  \"imei b\": [\"imei_b\", \"deviceid_b\", \"handsetimei_b\", \"equipmentid_b\"],\n  imsi: [\"subscriberid\", \"subscriber_id\", \"sim_id\", \"simid\", \"subscriberidentity\", \"sim\", \"imsi_a\"],\n  \"imsi b\": [\"imsi_b\", \"subscriberid_b\", \"sim_id_b\"],\n  lac: [\"lac_id\", \"lac-id\", \"locationareacode\", \"areacode\", \"la\", \"location_area\", \"lac_a\"],\n  \"lac b\": [\"lac_b\", \"lac_id_b\", \"locationareacode_b\"],\n  \"cell id\": [\"ci\", \"cellidentifier\", \"cell_id\", \"cid\", \"cgi\", \"cellsite\", \"towerid\", \"cell\", \"cellno\", \"ci_a\"],\n  \"cell id b\": [\"ci_b\", \"cellidentifier_b\", \"cell_id_b\", \"cid_b\"],\n  \"bts address\": [\n    \"address\",\n    \"location\",\n    \"siteaddress\",\n    \"toweraddress\",\n    \"celladdress\",\n    \"sitename\",\n    \"btslocation\",\n    \"site\",\n    \"tower\",\n    \"celllocation\",\n    \"towersite\",\n  ],\n  latitude: [\"lat\", \"gps_lat\", \"geolat\", \"y_coord\", \"y\", \"lat_a\"],\n  longitude: [\"long\", \"lng\", \"gps_long\", \"geolong\", \"x_coord\", \"x\", \"lon\", \"long_a\"],\n  \"latitude b\": [\"lat_b\", \"gps_lat_b\", \"geolat_b\"],\n  \"longitude b\": [\"long_b\", \"lng_b\", \"gps_long_b\", \"geolong_b\"],\n  azimuth: [\"bearing\", \"direction\", \"angle\", \"cellazimuth\", \"towerazimuth\", \"sectorangle\"],\n  \"first cell\": [\"firstci\", \"startcell\", \"originatingcell\", \"initialcell\"],\n  \"last cell\": [\"lastci\", \"endcell\", \"terminatingcell\", \"finalcell\"],\n  roaming: [\"isroaming\", \"roamingstatus\", \"roamer\", \"roamingflag\"],\n  \"network type\": [\"technology\", \"rat\", \"radioaccesstype\", \"networktech\", \"2g3g4g\", \"accesstechnology\"],\n  \"sms content\": [\"message\", \"smstext\", \"messagecontent\", \"text\", \"content\"],\n  \"data volume\": [\"datausage\", \"volume\", \"bytes\", \"databytes\", \"downloadvolume\", \"uploadvolume\", \"totalvolume\"],\n  \"record id\": [\"id\", \"recordno\", \"sequenceno\", \"serialno\", \"transactionid\", \"cdr_id\"],\n  msisdn: [\"phonenumber\", \"phone\", \"number\", \"mobile\", \"mobilenumber\", \"subscriber\", \"msisdn_no\", \"partya\"],\n}\n\nconst PATTERN_RULES: Array<{ pattern: RegExp; targetColumn: string; dataPattern?: RegExp }> = [\n  { pattern: /^(start|begin|call).*(date|time)/i, targetColumn: \"Start\" },\n  { pattern: /^(date|time|timestamp)/i, targetColumn: \"Start\" },\n  { pattern: /^(end|stop|finish).*(date|time)/i, targetColumn: \"End\" },\n  { pattern: /(duration|length|seconds|sec)/i, targetColumn: \"Call Duration\" },\n  { pattern: /^imei$/i, targetColumn: \"IMEI\" },\n  { pattern: /^imei.?b/i, targetColumn: \"IMEI B\" },\n  { pattern: /^imsi$/i, targetColumn: \"IMSI\" },\n  { pattern: /^imsi.?b/i, targetColumn: \"IMSI B\" },\n  { pattern: /^(lac|location.*area)/i, targetColumn: \"LAC\" },\n  { pattern: /^lac.?b/i, targetColumn: \"LAC B\" },\n  { pattern: /^(cell|ci|cid|cgi)$/i, targetColumn: \"Cell ID\" },\n  { pattern: /^(cell|ci|cid).?b/i, targetColumn: \"Cell ID B\" },\n  { pattern: /(address|location|site|tower|bts)/i, targetColumn: \"Bts Address\" },\n  { pattern: /^(lat|latitude)$/i, targetColumn: \"Latitude\" },\n  { pattern: /^(lat|latitude).?b/i, targetColumn: \"Latitude B\" },\n  { pattern: /^(lon|lng|long|longitude)$/i, targetColumn: \"Longitude\" },\n  { pattern: /^(lon|lng|long|longitude).?b/i, targetColumn: \"Longitude B\" },\n  { pattern: /(operator|provider|carrier|network|telco)/i, targetColumn: \"Operator\" },\n  { pattern: /(type|category|service)/i, targetColumn: \"Usage Type\" },\n  { pattern: /(direction|inout|moc|mtc)/i, targetColumn: \"Call Direction\" },\n  { pattern: /(azimuth|bearing|angle)/i, targetColumn: \"Azimuth\" },\n  { pattern: /(roam)/i, targetColumn: \"Roaming\" },\n  { pattern: /(first.*cell|start.*cell)/i, targetColumn: \"First Cell\" },\n  { pattern: /(last.*cell|end.*cell)/i, targetColumn: \"Last Cell\" },\n  { pattern: /(sms|message|content)/i, targetColumn: \"SMS Content\" },\n  { pattern: /(data.*volume|volume|bytes|usage)/i, targetColumn: \"Data Volume\" },\n  { pattern: /^(id|record.*id|transaction)/i, targetColumn: \"Record ID\" },\n]\n\nexport function detectDataType(values: string[]): ColumnMapping[\"dataType\"] {\n  const nonEmptyValues = values.filter((v) => v && v.trim() !== \"\").slice(0, 50)\n  if (nonEmptyValues.length === 0) return \"text\"\n\n  // Check for IMEI (15 digits)\n  const imeiPattern = /^\\d{15}$/\n  if (nonEmptyValues.every((v) => imeiPattern.test(v.replace(/[-\\s]/g, \"\")))) {\n    return \"imei\"\n  }\n\n  // Check for IMSI (15 digits, often starts with country code)\n  const imsiPattern = /^\\d{15}$/\n  if (nonEmptyValues.every((v) => imsiPattern.test(v.replace(/[-\\s]/g, \"\")))) {\n    return \"imsi\"\n  }\n\n  // Check for coordinates (latitude/longitude)\n  const coordPattern = /^-?\\d{1,3}\\.\\d{4,}$/\n  if (nonEmptyValues.filter((v) => coordPattern.test(v)).length > nonEmptyValues.length * 0.7) {\n    return \"coordinates\"\n  }\n\n  // Check for phone numbers (10-15 digits, may have + or country code)\n  const phonePattern = /^[+]?[\\d\\s\\-()]{10,18}$/\n  if (nonEmptyValues.filter((v) => phonePattern.test(v)).length > nonEmptyValues.length * 0.7) {\n    return \"phone\"\n  }\n\n  // Check for dates\n  const datePatterns = [\n    /^\\d{4}[-/]\\d{2}[-/]\\d{2}/, // YYYY-MM-DD\n    /^\\d{2}[-/]\\d{2}[-/]\\d{4}/, // DD-MM-YYYY\n    /^\\d{2}[-/]\\d{2}[-/]\\d{2}/, // DD-MM-YY\n  ]\n  if (nonEmptyValues.some((v) => datePatterns.some((p) => p.test(v)))) {\n    return \"date\"\n  }\n\n  // Check for time\n  const timePattern = /^\\d{1,2}:\\d{2}(:\\d{2})?(\\s*(AM|PM))?$/i\n  if (nonEmptyValues.filter((v) => timePattern.test(v)).length > nonEmptyValues.length * 0.7) {\n    return \"time\"\n  }\n\n  // Check for numbers\n  const numberPattern = /^-?[\\d,]+\\.?\\d*$/\n  if (nonEmptyValues.filter((v) => numberPattern.test(v.replace(/,/g, \"\"))).length > nonEmptyValues.length * 0.8) {\n    return \"number\"\n  }\n\n  return \"text\"\n}\n\n// Normalize column name for comparison\nfunction normalizeColumnName(name: string): string {\n  return name\n    .toLowerCase()\n    .replace(/[\\s_\\-.]+/g, \" \")\n    .replace(/[^a-z0-9\\s]/g, \"\")\n    .trim()\n}\n\n// Calculate string similarity (Levenshtein-based)\nfunction calculateSimilarity(str1: string, str2: string): number {\n  const s1 = str1.toLowerCase()\n  const s2 = str2.toLowerCase()\n\n  if (s1 === s2) return 1\n  if (s1.length === 0 || s2.length === 0) return 0\n\n  const matrix: number[][] = []\n\n  for (let i = 0; i <= s1.length; i++) {\n    matrix[i] = [i]\n  }\n  for (let j = 0; j <= s2.length; j++) {\n    matrix[0][j] = j\n  }\n\n  for (let i = 1; i <= s1.length; i++) {\n    for (let j = 1; j <= s2.length; j++) {\n      const cost = s1[i - 1] === s2[j - 1] ? 0 : 1\n      matrix[i][j] = Math.min(matrix[i - 1][j] + 1, matrix[i][j - 1] + 1, matrix[i - 1][j - 1] + cost)\n    }\n  }\n\n  const maxLen = Math.max(s1.length, s2.length)\n  return 1 - matrix[s1.length][s2.length] / maxLen\n}\n\n// Main auto-mapping function\nexport function autoMapColumns(\n  sourceColumns: string[],\n  sampleData: Record<string, string>[],\n  moduleType: \"cdr\" | \"tower\" = \"cdr\",\n): ColumnMapping[] {\n  const targetCols = TARGET_COLUMNS[moduleType]\n  const mappings: ColumnMapping[] = []\n  const usedTargets = new Set<string>()\n\n  for (const sourceCol of sourceColumns) {\n    const normalizedSource = normalizeColumnName(sourceCol)\n    const sampleValues = sampleData.slice(0, 10).map((row) => row[sourceCol] || \"\")\n    const dataType = detectDataType(sampleValues)\n\n    let bestMatch: ColumnMapping = {\n      sourceColumn: sourceCol,\n      targetColumn: \"\",\n      confidence: 0,\n      matchType: \"none\",\n      sampleData: sampleValues.slice(0, 3),\n      dataType,\n    }\n\n    for (const target of targetCols) {\n      if (usedTargets.has(target.name)) continue\n\n      const normalizedTarget = normalizeColumnName(target.name)\n      let confidence = 0\n      let matchType: ColumnMapping[\"matchType\"] = \"none\"\n\n      // 1. Exact match (highest priority)\n      if (normalizedSource === normalizedTarget) {\n        confidence = 100\n        matchType = \"exact\"\n      }\n      // 2. Synonym match\n      else {\n        const synonyms = SYNONYM_MAP[normalizedTarget] || []\n        const allSynonyms = [\n          normalizedTarget,\n          ...synonyms,\n          ...(target.aliases?.map((a) => normalizeColumnName(a)) || []),\n        ]\n\n        if (\n          allSynonyms.some(\n            (syn) => normalizedSource === syn || normalizedSource.includes(syn) || syn.includes(normalizedSource),\n          )\n        ) {\n          confidence = 90\n          matchType = \"synonym\"\n        }\n        // 3. Pattern match\n        else {\n          for (const rule of PATTERN_RULES) {\n            if (rule.targetColumn === target.name && rule.pattern.test(sourceCol)) {\n              confidence = 80\n              matchType = \"pattern\"\n              break\n            }\n          }\n        }\n\n        // 4. Fuzzy match\n        if (matchType === \"none\") {\n          const similarity = calculateSimilarity(normalizedSource, normalizedTarget)\n          if (similarity > 0.7) {\n            confidence = Math.round(similarity * 70)\n            matchType = \"fuzzy\"\n          }\n        }\n      }\n\n      // Data type validation boost/penalty\n      if (confidence > 0) {\n        if (target.name === \"IMEI\" && dataType === \"imei\") confidence = Math.min(100, confidence + 10)\n        if (target.name === \"IMSI\" && dataType === \"imsi\") confidence = Math.min(100, confidence + 10)\n        if (target.name === \"Start\" && (dataType === \"date\" || dataType === \"time\"))\n          confidence = Math.min(100, confidence + 5)\n        if (target.name === \"End\" && (dataType === \"date\" || dataType === \"time\"))\n          confidence = Math.min(100, confidence + 5)\n        if (target.name === \"Call Duration\" && dataType === \"number\") confidence = Math.min(100, confidence + 5)\n        if ((target.name === \"Party A\" || target.name === \"Party B\") && dataType === \"phone\")\n          confidence = Math.min(100, confidence + 5)\n        if ((target.name === \"Latitude\" || target.name === \"Longitude\") && dataType === \"coordinates\")\n          confidence = Math.min(100, confidence + 10)\n        if ((target.name === \"Latitude B\" || target.name === \"Longitude B\") && dataType === \"coordinates\")\n          confidence = Math.min(100, confidence + 10)\n      }\n\n      if (confidence > bestMatch.confidence) {\n        bestMatch = {\n          sourceColumn: sourceCol,\n          targetColumn: target.name,\n          confidence,\n          matchType,\n          sampleData: sampleValues.slice(0, 3),\n          dataType,\n        }\n      }\n    }\n\n    if (bestMatch.confidence >= 50) {\n      usedTargets.add(bestMatch.targetColumn)\n    }\n\n    mappings.push(bestMatch)\n  }\n\n  return mappings\n}\n\n// Validate mapped data\nexport function validateMappedData(\n  data: Record<string, string>[],\n  mappings: ColumnMapping[],\n  moduleType: \"cdr\" | \"tower\" = \"cdr\",\n): ValidationResult {\n  const errors: ValidationError[] = []\n  const warnings: ValidationWarning[] = []\n  const targetCols = TARGET_COLUMNS[moduleType]\n\n  // Check required columns\n  const requiredCols = targetCols.filter((c) => c.required)\n  for (const reqCol of requiredCols) {\n    const mapping = mappings.find((m) => m.targetColumn === reqCol.name && m.confidence > 0)\n    if (!mapping) {\n      errors.push({\n        column: reqCol.name,\n        message: `Required column \"${reqCol.name}\" is not mapped`,\n        severity: \"error\",\n      })\n    }\n  }\n\n  // Validate IMEI format\n  const imeiMapping = mappings.find((m) => m.targetColumn === \"IMEI\" && m.confidence > 0)\n  if (imeiMapping) {\n    let invalidCount = 0\n    data.forEach((row, idx) => {\n      const val = row[imeiMapping.sourceColumn]?.replace(/[-\\s]/g, \"\")\n      if (val && !/^\\d{14,15}$/.test(val)) {\n        invalidCount++\n        if (invalidCount <= 3) {\n          errors.push({\n            column: \"IMEI\",\n            row: idx + 1,\n            message: `Invalid IMEI format: \"${val}\" (must be 14-15 digits)`,\n            severity: \"warning\",\n          })\n        }\n      }\n    })\n    if (invalidCount > 3) {\n      warnings.push({\n        column: \"IMEI\",\n        message: `${invalidCount} rows have invalid IMEI format`,\n        affectedRows: invalidCount,\n      })\n    }\n  }\n\n  // Validate IMSI format\n  const imsiMapping = mappings.find((m) => m.targetColumn === \"IMSI\" && m.confidence > 0)\n  if (imsiMapping) {\n    let invalidCount = 0\n    data.forEach((row) => {\n      const val = row[imsiMapping.sourceColumn]?.replace(/[-\\s]/g, \"\")\n      if (val && !/^\\d{15}$/.test(val)) {\n        invalidCount++\n      }\n    })\n    if (invalidCount > 0) {\n      warnings.push({\n        column: \"IMSI\",\n        message: `${invalidCount} rows have invalid IMSI format`,\n        affectedRows: invalidCount,\n      })\n    }\n  }\n\n  // Check for duplicate mappings\n  const targetCounts: Record<string, number> = {}\n  mappings.forEach((m) => {\n    if (m.targetColumn && m.confidence > 0) {\n      targetCounts[m.targetColumn] = (targetCounts[m.targetColumn] || 0) + 1\n    }\n  })\n  for (const [target, count] of Object.entries(targetCounts)) {\n    if (count > 1) {\n      errors.push({\n        column: target,\n        message: `Column \"${target}\" is mapped multiple times`,\n        severity: \"error\",\n      })\n    }\n  }\n\n  return {\n    isValid: errors.filter((e) => e.severity === \"error\").length === 0,\n    errors,\n    warnings,\n  }\n}\n\n// Template management functions\nexport function saveMappingTemplate(\n  template: Omit<MappingTemplate, \"id\" | \"createdAt\" | \"updatedAt\" | \"usageCount\">,\n): MappingTemplate {\n  const templates = getMappingTemplates()\n  const newTemplate: MappingTemplate = {\n    ...template,\n    id: `template_${Date.now()}`,\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString(),\n    usageCount: 0,\n  }\n  templates.push(newTemplate)\n  localStorage.setItem(\"rtf_mapping_templates\", JSON.stringify(templates))\n  return newTemplate\n}\n\nexport function getMappingTemplates(): MappingTemplate[] {\n  if (typeof window === \"undefined\") return []\n  try {\n    const stored = localStorage.getItem(\"rtf_mapping_templates\")\n    return stored ? JSON.parse(stored) : []\n  } catch {\n    return []\n  }\n}\n\nexport function deleteTemplate(templateId: string): void {\n  const templates = getMappingTemplates().filter((t) => t.id !== templateId)\n  localStorage.setItem(\"rtf_mapping_templates\", JSON.stringify(templates))\n}\n\nexport function applyTemplate(templateId: string, sourceColumns: string[]): ColumnMapping[] | null {\n  const templates = getMappingTemplates()\n  const template = templates.find((t) => t.id === templateId)\n  if (!template) return null\n\n  // Update usage count\n  template.usageCount++\n  template.updatedAt = new Date().toISOString()\n  localStorage.setItem(\"rtf_mapping_templates\", JSON.stringify(templates))\n\n  // Apply template mappings to current source columns\n  return sourceColumns.map((sourceCol) => {\n    const templateMapping = template.mappings.find(\n      (m) => normalizeColumnName(m.sourceColumn) === normalizeColumnName(sourceCol),\n    )\n    if (templateMapping) {\n      return {\n        ...templateMapping,\n        sourceColumn: sourceCol,\n        matchType: \"manual\" as const,\n      }\n    }\n    return {\n      sourceColumn: sourceCol,\n      targetColumn: \"\",\n      confidence: 0,\n      matchType: \"none\" as const,\n    }\n  })\n}\n\n// Find best matching template for given columns\nexport function suggestTemplate(sourceColumns: string[]): MappingTemplate | null {\n  const templates = getMappingTemplates()\n  let bestMatch: { template: MappingTemplate; score: number } | null = null\n\n  for (const template of templates) {\n    const templateCols = template.mappings.map((m) => normalizeColumnName(m.sourceColumn))\n    const sourceCols = sourceColumns.map((c) => normalizeColumnName(c))\n\n    let matchCount = 0\n    for (const col of sourceCols) {\n      if (templateCols.some((tc) => tc === col || calculateSimilarity(tc, col) > 0.8)) {\n        matchCount++\n      }\n    }\n\n    const score = matchCount / Math.max(templateCols.length, sourceCols.length)\n\n    if (score > 0.5 && (!bestMatch || score > bestMatch.score)) {\n      bestMatch = { template, score }\n    }\n  }\n\n  return bestMatch?.template || null\n}\n\n// Apply mappings to transform data\nexport function applyMappingsToData(\n  data: Record<string, string>[],\n  mappings: ColumnMapping[],\n): Record<string, string>[] {\n  return data.map((row) => {\n    const newRow: Record<string, string> = {}\n    for (const mapping of mappings) {\n      if (mapping.targetColumn && mapping.confidence > 0) {\n        newRow[mapping.targetColumn] = row[mapping.sourceColumn] || \"\"\n      }\n    }\n    // Keep unmapped columns with original names\n    for (const key of Object.keys(row)) {\n      const mapping = mappings.find((m) => m.sourceColumn === key)\n      if (!mapping || mapping.confidence === 0 || !mapping.targetColumn) {\n        newRow[key] = row[key]\n      }\n    }\n    return newRow\n  })\n}\n"],"names":[],"mappings":"AAAA,0DAA0D;AAC1D,gGAAgG;;;;;;;;;;;;;;;;;;;;;;;AAyCzF,MAAM,iBAAiB;IAC5B,KAAK;QACH;YACE,MAAM;YACN,UAAU;YACV,aAAa;YACb,SAAS;gBACP;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;QACH;QACA;YACE,MAAM;YACN,UAAU;YACV,aAAa;YACb,SAAS;gBACP;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;QACH;QACA;YACE,MAAM;YACN,UAAU;YACV,aAAa;YACb,SAAS;gBACP;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;QACH;QACA;YACE,MAAM;YACN,UAAU;YACV,aAAa;YACb,SAAS;gBACP;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;QACH;QACA;YACE,MAAM;YACN,UAAU;YACV,aAAa;YACb,SAAS;gBAAC;gBAAW;gBAAY;gBAAW;gBAAe;gBAAc;aAAW;QACtF;QACA;YACE,MAAM;YACN,UAAU;YACV,aAAa;YACb,SAAS;gBACP;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;QACH;QACA;YACE,MAAM;YACN,UAAU;YACV,aAAa;YACb,SAAS;gBACP;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;QACH;QACA;YACE,MAAM;YACN,UAAU;YACV,aAAa;YACb,SAAS;gBAAC;gBAAa;gBAAiB;gBAAS;gBAAM;gBAAW;aAAc;QAClF;QACA;YACE,MAAM;YACN,UAAU;YACV,aAAa;YACb,SAAS;gBACP;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;QACH;QACA;YACE,MAAM;YACN,UAAU;YACV,aAAa;YACb,SAAS;gBAAC;gBAAU;gBAAc;gBAAiB;aAAgB;QACrE;QACA;YACE,MAAM;YACN,U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gBAAC;gBAAO;gBAAW;gBAAU;aAAU;QAClD;QACA;YACE,MAAM;YACN,UAAU;YACV,aAAa;YACb,SAAS;gBAAC;gBAAQ;gBAAO;gBAAY;gBAAW;gBAAW;aAAM;QACnE;QACA;YACE,MAAM;YACN,UAAU;YACV,aAAa;YACb,SAAS;gBAAC;gBAAW;gBAAa;gBAAS;aAAc;QAC3D;QACA;YACE,MAAM;YACN,UAAU;YACV,aAAa;YACb,SAAS;gBAAC;gBAAQ;gBAAgB;gBAAa;aAAc;QAC/D;QACA;YACE,MAAM;YACN,UAAU;YACV,aAAa;YACb,SAAS;gBAAC;gBAAW;gBAAU;gBAAY;aAAe;QAC5D;QACA;YACE,MAAM;YACN,UAAU;YACV,aAAa;YACb,SAAS;gBAAC;gBAAY;gBAAW;gBAAW;aAAQ;QACtD;KACD;AACH;AAEA,MAAM,cAAwC;IAC5C,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,WAAW;QACT;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,WAAW;QACT;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,KAAK;QAAC;QAAW;QAAY;QAAW;QAAe;QAAc;KAAW;IAChF,iBAAiB;QACf;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,kBAAkB;QAAC;QAAa;QAAiB;QAAS;QAAM;QAAW;QAAe;KAAkB;IAC5G,cAAc;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,MAAM;QACJ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,UAAU;QAAC;QAAU;QAAc;QAAiB;KAAgB;IACpE,MAAM;QAAC;QAAgB;QAAiB;QAAU;QAAS;QAAsB;QAAO;KAAS;IACjG,UAAU;QAAC;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"}},
    {"offset": {"line": 3160, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/rtfforensics_final/lib/report-generator.tsx"],"sourcesContent":["// Report Generator Library for RTF Forensics Suite\n// Supports PDF, Excel, CSV, and HTML export formats\n\nexport interface ReportConfig {\n  selectedReports: string[]\n  selectedFormat: string\n  caseInfo: {\n    caseNumber: string\n    investigator: string\n    date: string\n    notes: string\n  }\n  includeCharts: boolean\n  includeMaps: boolean\n  includeTables: boolean\n  includeSummary: boolean\n}\n\nexport interface ReportData {\n  cdr?: any\n  tower?: any\n  drive?: any\n  mutual?: any\n  geo?: any\n}\n\n// Utility to escape HTML special characters\nfunction escapeHtml(text: string): string {\n  const div = document.createElement(\"div\")\n  div.textContent = text\n  return div.innerHTML\n}\n\n// Format date for display\nfunction formatDate(dateStr: string): string {\n  try {\n    return new Date(dateStr).toLocaleDateString(\"en-US\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n    })\n  } catch {\n    return dateStr\n  }\n}\n\n// Generate HTML report\nfunction generateHTMLReport(config: ReportConfig, data: ReportData): string {\n  const { caseInfo, selectedReports, includeTables, includeSummary } = config\n\n  let html = `\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>RTF Forensics Report${caseInfo.caseNumber ? ` - Case ${caseInfo.caseNumber}` : \"\"}</title>\n  <style>\n    * { margin: 0; padding: 0; box-sizing: border-box; }\n    body { \n      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; \n      background: #f8fafc; \n      color: #1e293b;\n      line-height: 1.6;\n    }\n    .container { max-width: 1200px; margin: 0 auto; padding: 40px 20px; }\n    .header { \n      background: linear-gradient(135deg, #0891b2 0%, #0ea5e9 100%); \n      color: white; \n      padding: 40px; \n      border-radius: 16px;\n      margin-bottom: 32px;\n      box-shadow: 0 10px 40px rgba(8, 145, 178, 0.2);\n    }\n    .header h1 { font-size: 28px; font-weight: 700; margin-bottom: 8px; }\n    .header .subtitle { opacity: 0.9; font-size: 16px; }\n    .case-info { \n      display: grid; \n      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); \n      gap: 24px; \n      background: white; \n      padding: 24px; \n      border-radius: 12px;\n      margin-bottom: 24px;\n      box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n    }\n    .case-info-item label { \n      display: block; \n      font-size: 12px; \n      color: #64748b; \n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n      margin-bottom: 4px;\n    }\n    .case-info-item span { font-weight: 600; color: #0f172a; }\n    .section { \n      background: white; \n      border-radius: 12px; \n      padding: 24px; \n      margin-bottom: 24px;\n      box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n    }\n    .section h2 { \n      font-size: 18px; \n      color: #0891b2; \n      margin-bottom: 16px;\n      padding-bottom: 12px;\n      border-bottom: 2px solid #e2e8f0;\n    }\n    .stats-grid { \n      display: grid; \n      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); \n      gap: 16px;\n      margin-bottom: 24px;\n    }\n    .stat-card { \n      background: #f1f5f9; \n      padding: 16px; \n      border-radius: 8px;\n      text-align: center;\n    }\n    .stat-card .value { \n      font-size: 24px; \n      font-weight: 700; \n      color: #0891b2;\n    }\n    .stat-card .label { \n      font-size: 12px; \n      color: #64748b;\n      margin-top: 4px;\n    }\n    table { \n      width: 100%; \n      border-collapse: collapse; \n      margin-top: 16px;\n      font-size: 13px;\n    }\n    th, td { \n      padding: 12px 16px; \n      text-align: left; \n      border-bottom: 1px solid #e2e8f0;\n    }\n    th { \n      background: #f8fafc; \n      font-weight: 600;\n      color: #475569;\n      text-transform: uppercase;\n      font-size: 11px;\n      letter-spacing: 0.5px;\n    }\n    tr:hover { background: #f8fafc; }\n    .footer { \n      text-align: center; \n      padding: 24px; \n      color: #94a3b8; \n      font-size: 12px;\n    }\n    .notes { \n      background: #fef3c7; \n      border-left: 4px solid #f59e0b;\n      padding: 16px;\n      border-radius: 0 8px 8px 0;\n      margin-top: 16px;\n    }\n    .notes h3 { color: #92400e; font-size: 14px; margin-bottom: 8px; }\n    .notes p { color: #78350f; font-size: 14px; }\n    @media print {\n      body { background: white; }\n      .container { padding: 0; }\n      .section { box-shadow: none; border: 1px solid #e2e8f0; }\n    }\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    <div class=\"header\">\n      <h1>RTF Forensics Analysis Report</h1>\n      <div class=\"subtitle\">Generated on ${formatDate(new Date().toISOString())}</div>\n    </div>\n    \n    <div class=\"case-info\">\n      <div class=\"case-info-item\">\n        <label>Case Number</label>\n        <span>${escapeHtml(caseInfo.caseNumber) || \"Not Specified\"}</span>\n      </div>\n      <div class=\"case-info-item\">\n        <label>Investigator</label>\n        <span>${escapeHtml(caseInfo.investigator) || \"Not Specified\"}</span>\n      </div>\n      <div class=\"case-info-item\">\n        <label>Report Date</label>\n        <span>${formatDate(caseInfo.date)}</span>\n      </div>\n      <div class=\"case-info-item\">\n        <label>Report Types</label>\n        <span>${selectedReports.map((r) => r.toUpperCase()).join(\", \")}</span>\n      </div>\n    </div>\n    \n    ${\n      caseInfo.notes\n        ? `\n    <div class=\"notes\">\n      <h3>Notes & Remarks</h3>\n      <p>${escapeHtml(caseInfo.notes)}</p>\n    </div>\n    `\n        : \"\"\n    }\n`\n\n  // CDR Report Section\n  if (selectedReports.includes(\"cdr\") && data.cdr) {\n    const cdrData = data.cdr\n    html += `\n    <div class=\"section\">\n      <h2>CDR Analysis Report</h2>\n      ${\n        includeSummary\n          ? `\n      <div class=\"stats-grid\">\n        <div class=\"stat-card\">\n          <div class=\"value\">${cdrData.rows?.length?.toLocaleString() || 0}</div>\n          <div class=\"label\">Total Records</div>\n        </div>\n        <div class=\"stat-card\">\n          <div class=\"value\">${cdrData.analytics?.uniqueBParty?.toLocaleString() || 0}</div>\n          <div class=\"label\">Unique B-Party</div>\n        </div>\n        <div class=\"stat-card\">\n          <div class=\"value\">${cdrData.analytics?.incomingCalls?.toLocaleString() || 0}</div>\n          <div class=\"label\">Incoming Calls</div>\n        </div>\n        <div class=\"stat-card\">\n          <div class=\"value\">${cdrData.analytics?.outgoingCalls?.toLocaleString() || 0}</div>\n          <div class=\"label\">Outgoing Calls</div>\n        </div>\n        <div class=\"stat-card\">\n          <div class=\"value\">${cdrData.analytics?.smsCount?.toLocaleString() || 0}</div>\n          <div class=\"label\">SMS Messages</div>\n        </div>\n        <div class=\"stat-card\">\n          <div class=\"value\">${cdrData.analytics?.towerHits?.toLocaleString() || 0}</div>\n          <div class=\"label\">Tower Hits</div>\n        </div>\n      </div>\n      `\n          : \"\"\n      }\n      \n      ${\n        includeTables && cdrData.analytics?.topBParty\n          ? `\n      <h3 style=\"font-size: 14px; margin: 24px 0 12px; color: #475569;\">Top 20 B-Party Numbers</h3>\n      <table>\n        <thead>\n          <tr>\n            <th>Rank</th>\n            <th>Phone Number</th>\n            <th>Call Count</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${cdrData.analytics.topBParty\n            .slice(0, 20)\n            .map(\n              (item: any, index: number) => `\n          <tr>\n            <td>${index + 1}</td>\n            <td style=\"font-family: monospace;\">${escapeHtml(item.number)}</td>\n            <td>${item.count}</td>\n          </tr>\n          `,\n            )\n            .join(\"\")}\n        </tbody>\n      </table>\n      `\n          : \"\"\n      }\n    </div>\n`\n  }\n\n  // Tower Dump Report Section\n  if (selectedReports.includes(\"tower\") && data.tower) {\n    const towerData = data.tower\n    html += `\n    <div class=\"section\">\n      <h2>Tower Dump Analysis Report</h2>\n      ${\n        includeSummary\n          ? `\n      <div class=\"stats-grid\">\n        <div class=\"stat-card\">\n          <div class=\"value\">${towerData.rows?.length?.toLocaleString() || 0}</div>\n          <div class=\"label\">Total Records</div>\n        </div>\n        <div class=\"stat-card\">\n          <div class=\"value\">${towerData.analytics?.uniqueIMSI?.toLocaleString() || 0}</div>\n          <div class=\"label\">Unique IMSI</div>\n        </div>\n        <div class=\"stat-card\">\n          <div class=\"value\">${towerData.analytics?.uniqueIMEI?.toLocaleString() || 0}</div>\n          <div class=\"label\">Unique IMEI</div>\n        </div>\n        <div class=\"stat-card\">\n          <div class=\"value\">${towerData.analytics?.uniqueMSISDN?.toLocaleString() || 0}</div>\n          <div class=\"label\">Unique MSISDN</div>\n        </div>\n      </div>\n      `\n          : \"\"\n      }\n      \n      ${\n        includeTables && towerData.rows?.length > 0\n          ? `\n      <h3 style=\"font-size: 14px; margin: 24px 0 12px; color: #475569;\">Sample Records (First 50)</h3>\n      <div style=\"overflow-x: auto;\">\n        <table>\n          <thead>\n            <tr>\n              ${\n                towerData.headers\n                  ?.slice(0, 8)\n                  .map((h: string) => `<th>${escapeHtml(h)}</th>`)\n                  .join(\"\") || \"\"\n              }\n            </tr>\n          </thead>\n          <tbody>\n            ${towerData.rows\n              .slice(0, 50)\n              .map(\n                (row: any) => `\n            <tr>\n              ${\n                towerData.headers\n                  ?.slice(0, 8)\n                  .map((h: string) => `<td>${escapeHtml(String(row[h] || \"\"))}</td>`)\n                  .join(\"\") || \"\"\n              }\n            </tr>\n            `,\n              )\n              .join(\"\")}\n          </tbody>\n        </table>\n      </div>\n      `\n          : \"\"\n      }\n    </div>\n`\n  }\n\n  // Drive Test Report Section\n  if (selectedReports.includes(\"drive\") && data.drive) {\n    const driveData = data.drive\n    html += `\n    <div class=\"section\">\n      <h2>Drive Test Analysis Report</h2>\n      ${\n        includeSummary\n          ? `\n      <div class=\"stats-grid\">\n        <div class=\"stat-card\">\n          <div class=\"value\">${driveData.rows?.length?.toLocaleString() || 0}</div>\n          <div class=\"label\">Total Points</div>\n        </div>\n        <div class=\"stat-card\">\n          <div class=\"value\">${driveData.analytics?.uniqueTowers?.toLocaleString() || 0}</div>\n          <div class=\"label\">Unique Towers</div>\n        </div>\n        <div class=\"stat-card\">\n          <div class=\"value\">${driveData.analytics?.avgSignal?.toFixed(1) || \"N/A\"}</div>\n          <div class=\"label\">Avg Signal (dBm)</div>\n        </div>\n      </div>\n      `\n          : \"\"\n      }\n    </div>\n`\n  }\n\n  // Mutual Analysis Report Section\n  if (selectedReports.includes(\"mutual\") && data.mutual) {\n    const mutualData = data.mutual\n    html += `\n    <div class=\"section\">\n      <h2>Mutual Communication Analysis Report</h2>\n      ${\n        includeSummary\n          ? `\n      <div class=\"stats-grid\">\n        <div class=\"stat-card\">\n          <div class=\"value\">${mutualData.commonNumbers?.length?.toLocaleString() || 0}</div>\n          <div class=\"label\">Common Numbers</div>\n        </div>\n        <div class=\"stat-card\">\n          <div class=\"value\">${mutualData.file1Records?.toLocaleString() || 0}</div>\n          <div class=\"label\">File 1 Records</div>\n        </div>\n        <div class=\"stat-card\">\n          <div class=\"value\">${mutualData.file2Records?.toLocaleString() || 0}</div>\n          <div class=\"label\">File 2 Records</div>\n        </div>\n      </div>\n      `\n          : \"\"\n      }\n      \n      ${\n        includeTables && mutualData.commonNumbers?.length > 0\n          ? `\n      <h3 style=\"font-size: 14px; margin: 24px 0 12px; color: #475569;\">Common Numbers Found</h3>\n      <table>\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Phone Number</th>\n            <th>File 1 Count</th>\n            <th>File 2 Count</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${mutualData.commonNumbers\n            .slice(0, 50)\n            .map(\n              (item: any, index: number) => `\n          <tr>\n            <td>${index + 1}</td>\n            <td style=\"font-family: monospace;\">${escapeHtml(item.number)}</td>\n            <td>${item.file1Count || 0}</td>\n            <td>${item.file2Count || 0}</td>\n          </tr>\n          `,\n            )\n            .join(\"\")}\n        </tbody>\n      </table>\n      `\n          : \"\"\n      }\n    </div>\n`\n  }\n\n  html += `\n    <div class=\"footer\">\n      <p>Generated by RTF Forensics Suite</p>\n      <p>This report is confidential and intended for authorized personnel only.</p>\n    </div>\n  </div>\n</body>\n</html>\n`\n\n  return html\n}\n\n// Generate CSV content\nfunction generateCSVReport(config: ReportConfig, data: ReportData): string {\n  const lines: string[] = []\n  const { selectedReports } = config\n\n  // Helper to escape CSV values\n  const escapeCSV = (val: any): string => {\n    const str = String(val ?? \"\")\n    if (str.includes(\",\") || str.includes('\"') || str.includes(\"\\n\")) {\n      return `\"${str.replace(/\"/g, '\"\"')}\"`\n    }\n    return str\n  }\n\n  // Add header info\n  lines.push(\"RTF Forensics Report\")\n  lines.push(`Generated: ${new Date().toISOString()}`)\n  lines.push(`Case Number: ${config.caseInfo.caseNumber || \"N/A\"}`)\n  lines.push(`Investigator: ${config.caseInfo.investigator || \"N/A\"}`)\n  lines.push(\"\")\n\n  // CDR Data\n  if (selectedReports.includes(\"cdr\") && data.cdr?.rows?.length > 0) {\n    lines.push(\"=== CDR ANALYSIS ===\")\n    lines.push(`Total Records: ${data.cdr.rows.length}`)\n    lines.push(\"\")\n\n    // Headers\n    if (data.cdr.headers) {\n      lines.push(data.cdr.headers.map(escapeCSV).join(\",\"))\n    }\n\n    // Data rows\n    data.cdr.rows.forEach((row: any) => {\n      const values = data.cdr.headers.map((h: string) => escapeCSV(row[h]))\n      lines.push(values.join(\",\"))\n    })\n    lines.push(\"\")\n  }\n\n  // Tower Data\n  if (selectedReports.includes(\"tower\") && data.tower?.rows?.length > 0) {\n    lines.push(\"=== TOWER DUMP ANALYSIS ===\")\n    lines.push(`Total Records: ${data.tower.rows.length}`)\n    lines.push(\"\")\n\n    if (data.tower.headers) {\n      lines.push(data.tower.headers.map(escapeCSV).join(\",\"))\n    }\n\n    data.tower.rows.forEach((row: any) => {\n      const values = data.tower.headers.map((h: string) => escapeCSV(row[h]))\n      lines.push(values.join(\",\"))\n    })\n    lines.push(\"\")\n  }\n\n  // Mutual Analysis Data\n  if (selectedReports.includes(\"mutual\") && data.mutual?.commonNumbers?.length > 0) {\n    lines.push(\"=== MUTUAL COMMUNICATION ANALYSIS ===\")\n    lines.push(`Common Numbers Found: ${data.mutual.commonNumbers.length}`)\n    lines.push(\"\")\n    lines.push(\"Number,File1Count,File2Count\")\n\n    data.mutual.commonNumbers.forEach((item: any) => {\n      lines.push(`${escapeCSV(item.number)},${item.file1Count || 0},${item.file2Count || 0}`)\n    })\n  }\n\n  return lines.join(\"\\n\")\n}\n\n// Generate Excel-compatible XML (Excel 2003 XML format)\nfunction generateExcelReport(config: ReportConfig, data: ReportData): string {\n  const { selectedReports, caseInfo } = config\n\n  let xml = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<?mso-application progid=\"Excel.Sheet\"?>\n<Workbook xmlns=\"urn:schemas-microsoft-com:office:spreadsheet\"\n  xmlns:ss=\"urn:schemas-microsoft-com:office:spreadsheet\">\n  <Styles>\n    <Style ss:ID=\"Header\">\n      <Font ss:Bold=\"1\" ss:Size=\"11\"/>\n      <Interior ss:Color=\"#0891b2\" ss:Pattern=\"Solid\"/>\n      <Font ss:Color=\"#FFFFFF\"/>\n    </Style>\n    <Style ss:ID=\"Title\">\n      <Font ss:Bold=\"1\" ss:Size=\"14\"/>\n    </Style>\n    <Style ss:ID=\"SubTitle\">\n      <Font ss:Size=\"11\" ss:Color=\"#666666\"/>\n    </Style>\n  </Styles>\n`\n\n  // Summary Sheet\n  xml += `\n  <Worksheet ss:Name=\"Summary\">\n    <Table>\n      <Row><Cell ss:StyleID=\"Title\"><Data ss:Type=\"String\">RTF Forensics Analysis Report</Data></Cell></Row>\n      <Row><Cell ss:StyleID=\"SubTitle\"><Data ss:Type=\"String\">Generated: ${new Date().toISOString()}</Data></Cell></Row>\n      <Row></Row>\n      <Row><Cell><Data ss:Type=\"String\">Case Number:</Data></Cell><Cell><Data ss:Type=\"String\">${caseInfo.caseNumber || \"N/A\"}</Data></Cell></Row>\n      <Row><Cell><Data ss:Type=\"String\">Investigator:</Data></Cell><Cell><Data ss:Type=\"String\">${caseInfo.investigator || \"N/A\"}</Data></Cell></Row>\n      <Row><Cell><Data ss:Type=\"String\">Report Date:</Data></Cell><Cell><Data ss:Type=\"String\">${caseInfo.date}</Data></Cell></Row>\n      <Row></Row>\n      <Row><Cell ss:StyleID=\"Header\"><Data ss:Type=\"String\">Module</Data></Cell><Cell ss:StyleID=\"Header\"><Data ss:Type=\"String\">Records</Data></Cell><Cell ss:StyleID=\"Header\"><Data ss:Type=\"String\">Status</Data></Cell></Row>\n`\n\n  if (selectedReports.includes(\"cdr\")) {\n    xml += `<Row><Cell><Data ss:Type=\"String\">CDR Analysis</Data></Cell><Cell><Data ss:Type=\"Number\">${data.cdr?.rows?.length || 0}</Data></Cell><Cell><Data ss:Type=\"String\">${data.cdr ? \"Included\" : \"No Data\"}</Data></Cell></Row>`\n  }\n  if (selectedReports.includes(\"tower\")) {\n    xml += `<Row><Cell><Data ss:Type=\"String\">Tower Dump</Data></Cell><Cell><Data ss:Type=\"Number\">${data.tower?.rows?.length || 0}</Data></Cell><Cell><Data ss:Type=\"String\">${data.tower ? \"Included\" : \"No Data\"}</Data></Cell></Row>`\n  }\n  if (selectedReports.includes(\"mutual\")) {\n    xml += `<Row><Cell><Data ss:Type=\"String\">Mutual Analysis</Data></Cell><Cell><Data ss:Type=\"Number\">${data.mutual?.commonNumbers?.length || 0}</Data></Cell><Cell><Data ss:Type=\"String\">${data.mutual ? \"Included\" : \"No Data\"}</Data></Cell></Row>`\n  }\n  if (selectedReports.includes(\"drive\")) {\n    xml += `<Row><Cell><Data ss:Type=\"String\">Drive Test</Data></Cell><Cell><Data ss:Type=\"Number\">${data.drive?.rows?.length || 0}</Data></Cell><Cell><Data ss:Type=\"String\">${data.drive ? \"Included\" : \"No Data\"}</Data></Cell></Row>`\n  }\n\n  xml += `\n    </Table>\n  </Worksheet>\n`\n\n  // CDR Data Sheet\n  if (selectedReports.includes(\"cdr\") && data.cdr?.rows?.length > 0) {\n    xml += `\n  <Worksheet ss:Name=\"CDR Data\">\n    <Table>\n      <Row>\n        ${data.cdr.headers.map((h: string) => `<Cell ss:StyleID=\"Header\"><Data ss:Type=\"String\">${h}</Data></Cell>`).join(\"\")}\n      </Row>\n`\n    data.cdr.rows.slice(0, 10000).forEach((row: any) => {\n      xml += `<Row>${data.cdr.headers.map((h: string) => `<Cell><Data ss:Type=\"String\">${String(row[h] ?? \"\").replace(/[<>&]/g, \"\")}</Data></Cell>`).join(\"\")}</Row>\\n`\n    })\n    xml += `\n    </Table>\n  </Worksheet>\n`\n  }\n\n  // Tower Data Sheet\n  if (selectedReports.includes(\"tower\") && data.tower?.rows?.length > 0) {\n    xml += `\n  <Worksheet ss:Name=\"Tower Data\">\n    <Table>\n      <Row>\n        ${data.tower.headers.map((h: string) => `<Cell ss:StyleID=\"Header\"><Data ss:Type=\"String\">${h}</Data></Cell>`).join(\"\")}\n      </Row>\n`\n    data.tower.rows.slice(0, 10000).forEach((row: any) => {\n      xml += `<Row>${data.tower.headers.map((h: string) => `<Cell><Data ss:Type=\"String\">${String(row[h] ?? \"\").replace(/[<>&]/g, \"\")}</Data></Cell>`).join(\"\")}</Row>\\n`\n    })\n    xml += `\n    </Table>\n  </Worksheet>\n`\n  }\n\n  // Mutual Analysis Sheet\n  if (selectedReports.includes(\"mutual\") && data.mutual?.commonNumbers?.length > 0) {\n    xml += `\n  <Worksheet ss:Name=\"Mutual Analysis\">\n    <Table>\n      <Row>\n        <Cell ss:StyleID=\"Header\"><Data ss:Type=\"String\">Number</Data></Cell>\n        <Cell ss:StyleID=\"Header\"><Data ss:Type=\"String\">File 1 Count</Data></Cell>\n        <Cell ss:StyleID=\"Header\"><Data ss:Type=\"String\">File 2 Count</Data></Cell>\n      </Row>\n`\n    data.mutual.commonNumbers.forEach((item: any) => {\n      xml += `<Row><Cell><Data ss:Type=\"String\">${item.number}</Data></Cell><Cell><Data ss:Type=\"Number\">${item.file1Count || 0}</Data></Cell><Cell><Data ss:Type=\"Number\">${item.file2Count || 0}</Data></Cell></Row>\\n`\n    })\n    xml += `\n    </Table>\n  </Worksheet>\n`\n  }\n\n  xml += `</Workbook>`\n  return xml\n}\n\n// Download file helper\nfunction downloadFile(content: string, filename: string, mimeType: string): void {\n  const blob = new Blob([content], { type: mimeType })\n  const url = URL.createObjectURL(blob)\n  const link = document.createElement(\"a\")\n  link.href = url\n  link.download = filename\n  document.body.appendChild(link)\n  link.click()\n  document.body.removeChild(link)\n  URL.revokeObjectURL(url)\n}\n\n// Open HTML in new window for printing\nfunction openHTMLForPrint(html: string): void {\n  const printWindow = window.open(\"\", \"_blank\")\n  if (printWindow) {\n    printWindow.document.write(html)\n    printWindow.document.close()\n    // Delay print to ensure content is loaded\n    setTimeout(() => {\n      printWindow.print()\n    }, 500)\n  }\n}\n\n// Main export function\nexport function exportReport(config: ReportConfig, data: ReportData): { success: boolean; message: string } {\n  try {\n    const { selectedFormat, caseInfo } = config\n    const timestamp = new Date().toISOString().slice(0, 10)\n    const casePrefix = caseInfo.caseNumber ? `${caseInfo.caseNumber}_` : \"\"\n\n    switch (selectedFormat) {\n      case \"pdf\":\n        // Generate HTML and open print dialog for PDF\n        const pdfHtml = generateHTMLReport(config, data)\n        openHTMLForPrint(pdfHtml)\n        return {\n          success: true,\n          message: \"PDF print dialog opened. Use your browser's print function to save as PDF.\",\n        }\n\n      case \"html\":\n        const html = generateHTMLReport(config, data)\n        downloadFile(html, `${casePrefix}RTF_Report_${timestamp}.html`, \"text/html\")\n        return { success: true, message: \"HTML report downloaded successfully.\" }\n\n      case \"csv\":\n        const csv = generateCSVReport(config, data)\n        downloadFile(csv, `${casePrefix}RTF_Report_${timestamp}.csv`, \"text/csv\")\n        return { success: true, message: \"CSV report downloaded successfully.\" }\n\n      case \"excel\":\n        const excel = generateExcelReport(config, data)\n        downloadFile(excel, `${casePrefix}RTF_Report_${timestamp}.xml`, \"application/vnd.ms-excel\")\n        return {\n          success: true,\n          message: \"Excel report downloaded. Open with Microsoft Excel or compatible software.\",\n        }\n\n      default:\n        return { success: false, message: `Unknown format: ${selectedFormat}` }\n    }\n  } catch (error) {\n    console.error(\"Report generation error:\", error)\n    return {\n      success: false,\n      message: `Failed to generate report: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n    }\n  }\n}\n\n// Export individual module data\nexport function exportModuleData(moduleType: string, data: any, format: string): { success: boolean; message: string } {\n  const config: ReportConfig = {\n    selectedReports: [moduleType],\n    selectedFormat: format,\n    caseInfo: {\n      caseNumber: \"\",\n      investigator: \"\",\n      date: new Date().toISOString().split(\"T\")[0],\n      notes: \"\",\n    },\n    includeCharts: true,\n    includeMaps: false,\n    includeTables: true,\n    includeSummary: true,\n  }\n\n  const reportData: ReportData = {}\n  switch (moduleType) {\n    case \"cdr\":\n      reportData.cdr = data\n      break\n    case \"tower\":\n      reportData.tower = data\n      break\n    case \"drive\":\n      reportData.drive = data\n      break\n    case \"mutual\":\n      reportData.mutual = data\n      break\n    case \"geo\":\n      reportData.geo = data\n      break\n  }\n\n  return exportReport(config, reportData)\n}\n"],"names":[],"mappings":"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"}}]
}